!function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="/signerbox2/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var r=e.slice(1),i=t[e[0]];return function(t,e,n){i.apply(this,[t,e,n].concat(r))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,r){r(47),t.exports=r(66)},function(t,e,r){(function(t){"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function n(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return a(this,t,e,r)}function a(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,r,i):"string"==typeof e?c(t,e,r):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,r,i){return u(e),e<=0?o(t,e):void 0!==r?"string"==typeof i?o(t,e).fill(r,i):o(t,e).fill(r):o(t,e)}function f(t,e){if(u(e),t=o(t,e<0?0:0|y(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(e,r);t=o(t,i);var n=t.write(e,r);return n!==i&&(t=t.slice(0,n)),t}function l(t,e){var r=e.length<0?0:0|y(e.length);t=o(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function p(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=l(t,e),t}function d(t,e){if(s.isBuffer(e)){var r=0|y(e.length);return t=o(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?o(t,0):l(t,e);if("Buffer"===e.type&&Q(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),s.alloc(+t)}function v(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(i)return G(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return D(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return B(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function _(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function b(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=s.from(e,i)),s.isBuffer(e))return 0===e.length?-1:w(t,e,r,i,n);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,i,n){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}var h;if(n){var f=-1;for(h=r;h<a;h++)if(o(t,h)===o(e,f===-1?0:h-f)){if(f===-1&&(f=h),h-f+1===u)return f*s}else f!==-1&&(h-=h-f),f=-1}else for(r+u>a&&(r=a-u),h=r;h>=0;h--){for(var c=!0,l=0;l<u;l++)if(o(t,h+l)!==o(e,l)){c=!1;break}if(c)return h}return-1}function k(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function M(t,e,r,i){return V(G(e,t.length-r),t,r,i)}function E(t,e,r,i){return V(Y(e),t,r,i)}function S(t,e,r,i){return E(t,e,r,i)}function A(t,e,r,i){return V(W(e),t,r,i)}function x(t,e,r,i){return V(X(e,t.length-r),t,r,i)}function B(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o=t[n],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n+a<=r){var u,h,f,c;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[n+1],128===(192&u)&&(c=(31&o)<<6|63&u,c>127&&(s=c));break;case 3:u=t[n+1],h=t[n+2],128===(192&u)&&128===(192&h)&&(c=(15&o)<<12|(63&u)<<6|63&h,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:u=t[n+1],h=t[n+2],f=t[n+3],128===(192&u)&&128===(192&h)&&128===(192&f)&&(c=(15&o)<<18|(63&u)<<12|(63&h)<<6|63&f,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=a}return I(i)}function I(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=tt));return r}function D(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function T(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function P(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=z(t[o]);return n}function R(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function j(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,i,n,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function U(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function N(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function F(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function q(t,e,r,i,n){return n||F(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,r,i,23,4),r+4}function L(t,e,r,i,n){return n||F(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,r,i,52,8),r+8}function H(t){if(t=K(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){e=e||1/0;for(var r,i=t.length,n=null,o=[],s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function X(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function W(t){return J.toByteArray(H(t))}function V(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Z(t){return t!==t}var J=r(74),$=r(79),Q=r(81);e.Buffer=s,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=n(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return a(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return h(null,t,e,r)},s.allocUnsafe=function(t){return f(null,t)},s.allocUnsafeSlow=function(t){return f(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=s.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,i,n){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,i>>>=0,n>>>=0,this===t)return 0;for(var o=n-i,a=r-e,u=Math.min(o,a),h=this.slice(i,n),f=t.slice(e,r),c=0;c<u;++c)if(h[c]!==f[c]){o=h[c],a=f[c];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},s.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},s.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return k(this,t,e,r);case"utf8":case"utf-8":return M(this,t,e,r);case"ascii":return E(this,t,e,r);case"latin1":case"binary":return S(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;s.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var i;if(s.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=s.prototype;else{var n=e-t;i=new s(n,void 0);for(var o=0;o<n;++o)i[o]=this[o+t]}return i},s.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},s.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},s.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),$.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),$.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),$.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),$.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e|=0,r|=0,!i){var n=Math.pow(2,8*r)-1;O(this,t,e,r,n,0)}var o=1,s=0;for(this[e]=255&t;++s<r&&(o*=256);)this[e+s]=t/o&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e|=0,r|=0,!i){var n=Math.pow(2,8*r)-1;O(this,t,e,r,n,0)}var o=r-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},s.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return q(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return q(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;n>=0;--n)t[n+e]=this[n+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},s.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=s.isBuffer(t)?t:G(new s(t,i).toString()),u=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e,r){var i=e;i.bignum=r(31),i.define=r(53).define,i.base=r(6),i.constants=r(25),i.decoders=r(57),i.encoders=r(59)},function(t,e,r){var i=r(2),n=i.define("CRLReason",function(){this.enum({0:"unspecified",1:"keyCompromise",2:"CACompromise",3:"affiliationChanged",4:"superseded",5:"cessationOfOperation",6:"certificateHold",8:"removeFromCRL",9:"privilegeWithdrawn",10:"AACompromise"})});e.CRLReason=n;var o={"1 2 804 2 1 1 1 1 2 1":"Gost34311","1 2 804 2 1 1 1 1 1 1 3":"Gost28147-cfb","1 2 804 2 1 1 1 1 3 4":"dhSinglePass-cofactorDH-gost34311kdf","1 2 804 2 1 1 1 1 1 1 5":"Gost28147-cfb-wrap","1 2 804 2 1 1 1 1 1 2":"Gost34311-hmac","1 2 804 2 1 1 1 1 3 1 1":"Dstu4145le"};e.ALGORITHMS_IDS=o;var s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(o),this.key("parameters").optional().any())});e.AlgorithmIdentifier=s;var a=i.define("Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(s),this.key("signature").bitstr())});e.Certificate=a;var u=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(h),this.key("serialNumber").use(f),this.key("signature").use(s),this.key("issuer").use(_),this.key("validity").use(c),this.key("subject").use(_),this.key("subjectPublicKeyInfo").use(y),this.key("issuerUniqueID").optional().implicit(1).use(p),this.key("subjectUniqueID").optional().implicit(2).use(p),this.key("extensions").optional().explicit(3).use(m))});e.TBSCertificate=u;var h=i.define("Version",function(){this.int({0:"v1",1:"v2",2:"v3"})});e.Version=h;var f=i.define("CertificateSerialNumber",function(){this.int()});e.CertificateSerialNumber=f;var c=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(l),this.key("notAfter").use(l))});e.Validity=c;var l=i.define("Time",function(){this.choice({utcTime:this.utctime(),genTime:this.gentime()})});e.Time=l;var p=i.define("UniqueIdentifier",function(){this.bitstr()});e.UniqueIdentifier=p;var d=i.define("PubkeyAlgorithmIdentifier",function(){this.use(s)}),y=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())});e.SubjectPublicKeyInfo=y;var m=i.define("Extensions",function(){this.seqof(g)});e.Extensions=m;var v={"1 3 6 1 5 5 7 1 1":"authorityInfoAccess","1 3 6 1 5 5 7 1 2":"biometricInfo","1 3 6 1 5 5 7 1 3":"qcStatements","1 3 6 1 5 5 7 1 4":"ac-auditEntity","1 3 6 1 5 5 7 1 5":"ac-targeting","1 3 6 1 5 5 7 1 6":"aaControls","1 3 6 1 5 5 7 1 7":"sbgp-ipAddrBlock","1 3 6 1 5 5 7 1 8":"sbgp-autonomousSysNum","1 3 6 1 5 5 7 1 9":"sbgp-routerIdentifier","1 3 6 1 5 5 7 1 10":"ac-proxying","1 3 6 1 5 5 7 1 11":"subjectInfoAccess","1 3 6 1 5 5 7 1 14":"proxyCertInfo","2 5 29 9":"subjectDirectoryAttributes","2 5 29 14":"subjectKeyIdentifier","2 5 29 15":"keyUsage","2 5 29 16":"privateKeyUsagePeriod","2 5 29 17":"subjectAltName","2 5 29 18":"issuerAltName","2 5 29 19":"basicConstraints","2 5 29 20":"crlNumber","2 5 29 21":"CRLReason","2 5 29 24":"invalidityDate","2 5 29 27":"deltaCRL","2 5 29 28":"issuingDistributionPoint","2 5 29 29":"certificateIssuer","2 5 29 30":"nameConstraints","2 5 29 31":"crlDistributionPoints","2 5 29 32":"certificatePolicies","2 5 29 32 0":"anyPolicy","2 5 29 33":"policyMappings","2 5 29 35":"authorityKeyIdentifier","2 5 29 36":"policyConstraints","2 5 29 37":"extendedKeyUsage","2 5 29 46":"freshestCRL","2 5 29 54":"inhibitAnyPolicy","2 5 29 55":"targetInformation","2 5 29 56":"noRevAvail","1 3 6 1 5 5 7 48 1 2":"OCSPNonce"},g=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(v),this.key("critical").bool().def(!1),this.key("extnValue").octstr())});e.Extension=g;var _=i.define("Name",function(){this.choice({rdn:this.use(b)})});e.Name=_;var b=i.define("RDNSequence",function(){this.seqof(w)});e.RDNSequence=b;var w=i.define("RelativeDistinguishedName",function(){this.setof(k)});e.RelativeDistinguishedName=w;var k=i.define("AttributeTypeAndValue",function(){this.seq().obj(this.key("type").use(E),this.key("value").use(S))});e.AttributeTypeAndValue=k;var M={"1 2 840 113549 1 9 3":"contentType","1 2 840 113549 1 9 4":"messageDigest","1 2 840 113549 1 9 5":"signingTime","1 2 840 113549 1 9 16 2 47":"signingCertificateV2","1 2 840 113549 1 9 16 2 20":"contentTimeStamp","2 5 4 3":"commonName","2 5 4 4":"surname","2 5 4 5":"serialNumber","2 5 4 6":"countryName","2 5 4 7":"localityName","2 5 4 8":"stateOrProvinceName","2 5 4 9":"streetAddress","2 5 4 10":"organizationName","2 5 4 11":"organizationalUnitName","2 5 4 12":"title","2 5 4 13":"description","2 5 4 14":"searchGuide","2 5 4 15":"businessCategory","2 5 4 16":"postalAddress","2 5 4 17":"postalCode","2 5 4 18":"postOfficeBox","2 5 4 19":"physicalDeliveryOfficeName","2 5 4 20":"telephoneNumber","2 5 4 21":"telexNumber","2 5 4 22":"teletexTerminalIdentifier","2 5 4 23":"facsimileTelephoneNumber","2 5 4 24":"x121Address","2 5 4 25":"internationaliSDNNumber","2 5 4 26":"registeredAddress","2 5 4 27":"destinationIndicator","2 5 4 28":"preferredDeliveryMethod","2 5 4 29":"presentationAddress","2 5 4 30":"supportedApplicationContext","2 5 4 31":"member","2 5 4 32":"owner","2 5 4 33":"roleOccupant","2 5 4 34":"seeAlso","2 5 4 35":"userPassword","2 5 4 36":"userCertificate","2 5 4 37":"cACertificate","2 5 4 38":"authorityRevocationList","2 5 4 39":"certificateRevocationList","2 5 4 40":"crossCertificatePair","2 5 4 41":"name","2 5 4 42":"givenName","2 5 4 43":"initials","2 5 4 44":"generationQualifier","2 5 4 45":"x500UniqueIdentifier","2 5 4 46":"dnQualifier","2 5 4 47":"enhancedSearchGuide","2 5 4 48":"protocolInformation","2 5 4 49":"distinguishedName","2 5 4 50":"uniqueMember","2 5 4 51":"houseIdentifier","2 5 4 52":"supportedAlgorithms","2 5 4 53":"deltaRevocationList","2 5 4 54":"dmdName","2 5 4 65":"pseudonym","2 5 4 72":"role"},E=i.define("AttributeType",function(){this.objid(M)});e.AttributeType=E;var S=i.define("AttributeValue",function(){this.any()});e.AttributeValue=S,e.injectPubAlgo=function(t){d=t}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";var i=r(35),n=function(t,e){var r,i=[];for(void 0!==t.toBuffer&&(t=t.toBuffer()),e!==!0&&i.push(0),r=0;r<t.length;r++)i.push(t[r]);return e===!0&&(i.push(0),i=i.reverse()),i},o=function(t){var e,r,i=[];for(e=t.length-1;e>=0;e--)r=t[e],r=r>>7|r>>5&2|r>>3&4|r>>1&8|r<<1&16|r<<3&32|r<<5&64|r<<7&128,i.push(r);return i},s=/^[A-Fa-f0-9]+$/,a=function(t){var e;return"string"==typeof t&&(e=t.match(s),null!==e&&e.length>0)},u=function(t){return i.from_u8(t)},h=function(t){return i.from_u8(Array.prototype.slice.call(t,0).reverse())},f=function(t){return n(o(t))},c=function(t,e){var r,n;if("number"==typeof t&&(n=[0,t]),"string"==typeof t&&(r=t.replace(/ /g,""),a(r)))return i.from_hex(r,e);if(n||(n=t),e)for(n.push||(n=Array.prototype.slice.call(t,0));e--;)n.push(0);return new Uint32Array(n)},l=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))};t.exports={add_zero:n,is_hex:a,invert:o,BIG_BE:u,BIG_LE:h,BIG_INVERT:f,maybeHex:c,strFromUtf8:l}},function(t,e,r){var i=e;i.Reporter=r(55).Reporter,i.DecoderBuffer=r(24).DecoderBuffer,i.EncoderBuffer=r(24).EncoderBuffer,i.Node=r(54)},function(t,e,r){(function(e){"use strict";var i=r(1).Buffer,n=r(32),o=function(t,e){this.k8=e.subarray(0,16),this.k7=e.subarray(16,32),this.k6=e.subarray(32,48),this.k5=e.subarray(48,64),this.k4=e.subarray(64,80),this.k3=e.subarray(80,96),this.k2=e.subarray(96,112),this.k1=e.subarray(112,128);var r;for(r=0;r<e.length;r++)e[r]=t[r]},s=function(t){var r=new e.Uint32Array(1162);this.k=r.subarray(0,8),this.k87=r.subarray(8,264),this.k65=r.subarray(264,520),this.k43=r.subarray(520,776),this.k21=r.subarray(776,1032),t instanceof o||(t=new o(t,r.subarray(1032,1160))),this.n=r.subarray(1160,1162),this.boxinit(t)};s.prototype.boxinit=function(t){var e;for(e=0;e<256;e++)this.k87[e]=(t.k8[e>>>4]<<4|t.k7[15&e])<<24,this.k65[e]=(t.k6[e>>>4]<<4|t.k5[15&e])<<16,this.k43[e]=(t.k4[e>>>4]<<4|t.k3[15&e])<<8,this.k21[e]=t.k2[e>>>4]<<4|t.k1[15&e]},s.prototype.pass=function(t){return t=this.k87[t>>>24&255]|this.k65[t>>>16&255]|this.k43[t>>>8&255]|this.k21[255&t],t<<11|t>>>21},s.prototype.crypt64=function(t,e){var r=this.n;r[0]=t[0]|t[1]<<8|t[2]<<16|t[3]<<24,r[1]=t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r[1]^=this.pass(r[0]+this.k[0]),r[0]^=this.pass(r[1]+this.k[1]),r[1]^=this.pass(r[0]+this.k[2]),r[0]^=this.pass(r[1]+this.k[3]),r[1]^=this.pass(r[0]+this.k[4]),r[0]^=this.pass(r[1]+this.k[5]),r[1]^=this.pass(r[0]+this.k[6]),r[0]^=this.pass(r[1]+this.k[7]),r[1]^=this.pass(r[0]+this.k[0]),r[0]^=this.pass(r[1]+this.k[1]),r[1]^=this.pass(r[0]+this.k[2]),r[0]^=this.pass(r[1]+this.k[3]),r[1]^=this.pass(r[0]+this.k[4]),r[0]^=this.pass(r[1]+this.k[5]),r[1]^=this.pass(r[0]+this.k[6]),r[0]^=this.pass(r[1]+this.k[7]),r[1]^=this.pass(r[0]+this.k[0]),r[0]^=this.pass(r[1]+this.k[1]),r[1]^=this.pass(r[0]+this.k[2]),r[0]^=this.pass(r[1]+this.k[3]),r[1]^=this.pass(r[0]+this.k[4]),r[0]^=this.pass(r[1]+this.k[5]),r[1]^=this.pass(r[0]+this.k[6]),r[0]^=this.pass(r[1]+this.k[7]),r[1]^=this.pass(r[0]+this.k[7]),r[0]^=this.pass(r[1]+this.k[6]),r[1]^=this.pass(r[0]+this.k[5]),r[0]^=this.pass(r[1]+this.k[4]),r[1]^=this.pass(r[0]+this.k[3]),r[0]^=this.pass(r[1]+this.k[2]),r[1]^=this.pass(r[0]+this.k[1]),r[0]^=this.pass(r[1]+this.k[0]),e[0]=255&r[1],e[1]=r[1]>>>8&255,e[2]=r[1]>>>16&255,e[3]=r[1]>>>24,e[4]=255&r[0],e[5]=r[0]>>>8&255,e[6]=r[0]>>>16&255,e[7]=r[0]>>>24},s.prototype.decrypt64=function(t,e){var r=this.n;r[0]=t[0]|t[1]<<8|t[2]<<16|t[3]<<24,r[1]=t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r[1]^=this.pass(r[0]+this.k[0]),r[0]^=this.pass(r[1]+this.k[1]),r[1]^=this.pass(r[0]+this.k[2]),r[0]^=this.pass(r[1]+this.k[3]),r[1]^=this.pass(r[0]+this.k[4]),r[0]^=this.pass(r[1]+this.k[5]),r[1]^=this.pass(r[0]+this.k[6]),r[0]^=this.pass(r[1]+this.k[7]),r[1]^=this.pass(r[0]+this.k[7]),r[0]^=this.pass(r[1]+this.k[6]),r[1]^=this.pass(r[0]+this.k[5]),r[0]^=this.pass(r[1]+this.k[4]),r[1]^=this.pass(r[0]+this.k[3]),r[0]^=this.pass(r[1]+this.k[2]),r[1]^=this.pass(r[0]+this.k[1]),r[0]^=this.pass(r[1]+this.k[0]),r[1]^=this.pass(r[0]+this.k[7]),r[0]^=this.pass(r[1]+this.k[6]),r[1]^=this.pass(r[0]+this.k[5]),r[0]^=this.pass(r[1]+this.k[4]),r[1]^=this.pass(r[0]+this.k[3]),r[0]^=this.pass(r[1]+this.k[2]),r[1]^=this.pass(r[0]+this.k[1]),r[0]^=this.pass(r[1]+this.k[0]),r[1]^=this.pass(r[0]+this.k[7]),r[0]^=this.pass(r[1]+this.k[6]),r[1]^=this.pass(r[0]+this.k[5]),r[0]^=this.pass(r[1]+this.k[4]),r[1]^=this.pass(r[0]+this.k[3]),r[0]^=this.pass(r[1]+this.k[2]),r[1]^=this.pass(r[0]+this.k[1]),r[0]^=this.pass(r[1]+this.k[0]),e[0]=255&r[1],e[1]=r[1]>>>8&255,e[2]=r[1]>>>16&255,e[3]=r[1]>>>24,e[4]=255&r[0],e[5]=r[0]>>>8&255,e[6]=r[0]>>>16&255,e[7]=r[0]>>>24},s.prototype.crypt64_cfb=function(t,e,r){var i,n=this.gamma;for(this.crypt64(t,n),i=0;i<8;i++)r[i]=e[i]^n[i],t[i]=r[i]},s.prototype.decrypt64_cfb=function(t,e,r){var i,n=this.gamma;for(this.crypt64(t,n),i=0;i<8;i++)t[i]=e[i],r[i]=e[i]^n[i]},s.prototype.crypt_cfb=function(t,r,n){var o,s,a;this.gamma=new e.Uint8Array(8);var u=new e.Uint8Array(8);for(s=0;s<8;s++)u[s]=t[s];if(o=Math.ceil(r.length/8)){if(n||(n=new i(8*o,"binary")),!i.isBuffer(n))throw new Error("Either pass output buffer or nothing");for(i.isBuffer(r)||(r=new i(r,"binary")),
s=0;s<o;)a=8*s++,this.crypt64_cfb(u,r.slice(a,a+8),n.slice(a,a+8));return n.length!==r.length&&(n=new i(n.slice(0,r.length))),n}},s.prototype.decrypt_cfb=function(t,r,n){var o,s,a;this.gamma=new e.Uint8Array(8);var u=new e.Uint8Array(8);for(s=0;s<8;s++)u[s]=t[s];if(o=Math.ceil(r.length/8)){if(n||(n=new i(8*o)),!i.isBuffer(n))throw new Error("Either pass output buffer");for(i.isBuffer(r)||(r=new i(r,"binary")),s=0;s<o;)a=8*s++,this.decrypt64_cfb(u,r.slice(a,a+8),n.slice(a,a+8));return n.length!==r.length&&(n=new i(n.slice(0,r.length))),n}},s.prototype.crypt=function(t,e){var r,n,o;if(r=Math.ceil(t.length/8)){if(i.isBuffer(t)||(t=new i(t,"binary")),e||(e=new i(8*r,"binary")),!i.isBuffer(e))throw new Error("Either pass output buffer or nothing");for(o=0;o<r;)n=8*o++,this.crypt64(t.slice(n,n+8),e.slice(n,n+8));return e.length!==t.length&&(e=new i(e.slice(0,t.length))),e}},s.prototype.decrypt=function(t,e){var r,n;if(r=Math.ceil(t.length/8)){for(i.isBuffer(e)||(e=new i(e||8*e,"binary")),i.isBuffer(t)||(t=new i(t,"binary"));r--;)n=8*r,this.decrypt64(t.slice(n,n+8),e.slice(n,n+8));return e.length!==t.length&&(e=new i(e.slice(0,t.length))),e}},s.prototype.key=function(t){var e,r;for(e=0,r=0;e<8;e++,r+=4)this.k[e]=t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24},s.prototype.mac=function(t,r,n){var o=new e.Uint8Array(8),s=new e.Uint8Array(8);i.isBuffer(r)||(r=new i(r,"binary"));var a;for(a=0;a+8<=r.length;a+=8)this.mac64(o,r.slice(a,a+8));if(a<r.length){for(r=r.slice(a),a=0;a<r.length;a++)s[a]=r[a];this.mac64(o,s)}if(8===a){for(a=0;a<s.length;a++)s[a]=0;this.mac64(o,s)}return this.mac_out(o,t,n)},s.prototype.mac_out=function(t,e,r){var n,o=e>>>3,s=7&e,a=s?(1<s)-1:0;if(r||(r=new i(o)),!i.isBuffer(r))throw new Error("Either pass output buffer or nothing");for(n=0;n<o;n++)r[n]=t[n];return s&&(r[n]=t[n]&a),r},s.prototype.mac64=function(t,e){var r,i=this.n;for(r=0;r<8;r++)t[r]^=e[r];i[0]=t[0]|t[1]<<8|t[2]<<16|t[3]<<24,i[1]=t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i[1]^=this.pass(i[0]+this.k[0]),i[0]^=this.pass(i[1]+this.k[1]),i[1]^=this.pass(i[0]+this.k[2]),i[0]^=this.pass(i[1]+this.k[3]),i[1]^=this.pass(i[0]+this.k[4]),i[0]^=this.pass(i[1]+this.k[5]),i[1]^=this.pass(i[0]+this.k[6]),i[0]^=this.pass(i[1]+this.k[7]),i[1]^=this.pass(i[0]+this.k[0]),i[0]^=this.pass(i[1]+this.k[1]),i[1]^=this.pass(i[0]+this.k[2]),i[0]^=this.pass(i[1]+this.k[3]),i[1]^=this.pass(i[0]+this.k[4]),i[0]^=this.pass(i[1]+this.k[5]),i[1]^=this.pass(i[0]+this.k[6]),i[0]^=this.pass(i[1]+this.k[7]),t[0]=255&i[0],t[1]=i[0]>>>8&255,t[2]=i[0]>>>16&255,t[3]=i[0]>>>24,t[4]=255&i[1],t[5]=i[1]>>>8&255,t[6]=i[1]>>>16&255,t[7]=i[1]>>>24},t.exports=s,t.exports.Subst=o,t.exports.init=function(t){return void 0===t&&(t=n.defaultSbox),new s(t)}}).call(e,function(){return this}())},function(t,e,r){var i=r(2),n=r(3),o=r(1).Buffer,s={"1 2 840 113549 1 7 1":"data","1 2 840 113549 1 7 2":"signedData","1 2 840 113549 1 7 3":"envelopedData","1 2 840 113549 1 7 4":"signedAndEnvelopedData","1 2 840 113549 1 7 5":"digestData","1 2 840 113549 1 7 6":"encryptedData","1 2 840 113549 1 9 16 1 4":"tstInfo"},a=i.define("ContentType",function(){this.objid(s)});t.exports.ContentType=a;var u=i.define("ContentInfo",function(){this.seq().obj(this.key("contentType").use(a),this.key("content").optional().explicit(0).use(function(t){var e=u.contentModel[t.contentType];if(void 0===e)throw new Error("Can't parse "+t.contentType+" in PKCS#7");return e}))}),h=i.define("GOST28147Parameters",function(){this.seq().obj(this.key("iv").octstr(),this.key("dke").octstr())}),f=i.define("ContentEncryptionAlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(n.ALGORITHMS_IDS),this.key("parameters").choice({null_:this.null_(),params:this.use(h)}))});t.exports.ContentEncryptionAlgorithmIdentifier=f;var c=i.define("DigestAlgorithmIdentifier",function(){this.use(n.AlgorithmIdentifier)}),l=i.define("DigestAlgorithmIdentifiers",function(){this.setof(c)}),p=i.define("KeyEncryptionAlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(n.ALGORITHMS_IDS),this.key("parameters").use(R))}),d=i.define("IssuerAndSerialNumber",function(){this.seq().obj(this.key("issuer").use(n.Name),this.key("serialNumber").use(n.CertificateSerialNumber))}),y=i.define("Attribute",function(){this.seq().obj(this.key("type").use(n.AttributeType),this.key("values").setof(n.AttributeValue))}),m=i.define("Attributes",function(){this.setof(y)});t.exports.Attributes=m;var v=i.define("DigestEncryptionAlgorithmIdentifier",function(){this.use(n.AlgorithmIdentifier)}),g=i.define("SubjectKeyIdentifier",function(){this.octstr()}),_=i.define("SignerIdentifier",function(){this.choice({issuerAndSerialNumber:this.use(d),subjectKeyIdentifier:this.explicit(0).use(g)})}),b=i.define("SignerInfo",function(){this.seq().obj(this.key("version").int(),this.key("sid").use(_),this.key("digestAlgorithm").use(c),this.key("authenticatedAttributes").optional().implicit(0).use(m),this.key("digestEncryptionAlgorithm").use(v),this.key("encryptedDigest").octstr(),this.key("unauthenticatedAttributes").optional().implicit(1).use(m))}),w=i.define("SignerInfos",function(){this.setof(b)}),k=i.define("Certificates",function(){this.seqof(n.Certificate)}),M=i.define("SignedData",function(){this.seq().obj(this.key("version").int(),this.key("digestAlgorithms").use(l),this.key("contentInfo").use(u),this.key("certificate").optional().implicit(0).use(k),this.key("crls").optional().implicit(1).set(),this.key("signerInfos").use(w))}),E=i.define("RecipientKeyIdentifier",function(){this.seq().obj(this.key("subjectKeyIdentifier").octstr(),this.key("date").use(n.Time).optional(),this.key("other").optional().any())}),S=i.define("KeyAgreeRecipientIdentifier",function(){this.choice({issuerAndSerialNumber:this.use(d),rKeyId:this.implicit(0).use(E)})}),A=i.define("RecipientEncryptedKey",function(){this.seq().obj(this.key("rid").use(S),this.key("encryptedKey").octstr())}),x=(i.define("OriginatorInfo",function(){this.seq().obj(this.key("certificates").use(d))}),i.define("OriginatorPublicKey",function(){this.seq().obj(this.key("algorithm").use(n.AlgorithmIdentifier),this.key("publicKey").bitstr())})),B=i.define("OriginatorIdentifierOrKey",function(){this.seq().choice({issuerAndSerialNumber:this.use(d),subjectKeyIdentifier:this.implicit(0).use(g),originatorKey:this.implicit(1).use(x)})}),C=i.define("KeyAgreeRecipientInfo",function(){this.seq().obj(this.key("version").int(),this.key("originator").explicit(0).use(B),this.key("ukm").explicit(1).octstr(),this.key("keyEncryptionAlgorithm").use(p),this.key("recipientEncryptedKeys").seqof(A))}),I=i.define("RecipientInfo",function(){this.choice({kari:this.implicit(1).use(C)})}),D=i.define("EncryptedContentInfo",function(){this.seq().obj(this.key("contentType").objid(s),this.key("contentEncryptionAlgorithm").use(f),this.key("encryptedContent").optional().implicit(0).octstr())}),T=i.define("EnvelopedData",function(){this.seq().obj(this.key("version").int(),this.key("recipientInfos").setof(I),this.key("encryptedContentInfo").use(D))}),P=i.define("Data",function(){this.octstr()});t.exports.Data=P,u.contentModel={signedData:M,envelopedData:T,data:P},t.exports.ContentInfo=u;var R=i.define("WrapAlgo",function(){this.seq().obj(this.key("algorithm").objid(n.ALGORITHMS_IDS),this.key("parameters").null_())}),j=i.define("SharedInfo",function(){this.seq().obj(this.key("keyInfo").use(R),this.key("entityInfo").optional().explicit(0).octstr(),this.key("suppPubInfo").explicit(2).octstr())});t.exports.SharedInfo=j;var O=new o("a9d6eb45f13c708280c4967b231f5eadf658eba4c037291d38d96bf025ca4e17f8e9720dc615b43a28975f0bc1dea36438b564ea2c179fd0123e6db8fac57904","hex");t.exports.DEFAULT_SBOX_COMPRESSED=O},function(t,e,r){"use strict";var i=r(1).Buffer,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",s=/[^A-Za-z0-9\+\/\=]/g,a=/[^A-Za-z0-9\+\/]/g,u=function(t,e,r,i){var s,a,u,h,f,c,l,p,d=[],y=0;for("object"==typeof e&&(r=e.safe,i=e.pad,e=e.line),s=r===!0?o:n;y<t.length;)y>0&&void 0!==e&&y%e===0&&d.push("\n"),a=t[y++],u=t[y++],h=t[y++],f=a>>2,c=(3&a)<<4|u>>4,l=(15&u)<<2|h>>6,p=63&h,d.push(s.charAt(f)),d.push(s.charAt(c)),void 0!==u&&d.push(s.charAt(l)),void 0!==h&&d.push(s.charAt(p));return y=t.length%3,i&&2===y&&d.push("="),i&&1===y&&d.push("=="),d.join("")},h=function(t){var e,r,o,u,h,f,c,l,p,d=0,y=0;if(s.exec(t))throw new Error("invalid b64 input");t=t.replace(a,""),r=Math.floor(3*t.length/4),e=new i(r);do f=n.indexOf(t.charAt(d++)),c=n.indexOf(t.charAt(d++)),l=n.indexOf(t.charAt(d++)),p=n.indexOf(t.charAt(d++)),o=f<<2|c>>4,u=(15&c)<<4|l>>2,h=(3&l)<<6|p,e[y++]=o,e[y++]=u,e[y++]=h;while(d<t.length);return e};t.exports.b64_encode=u,t.exports.b64_decode=h},function(t,e,r){!function(){"use strict";function e(){}function r(t,r){var i,n,o,s,a=P;for(s=arguments.length;s-- >2;)T.push(arguments[s]);for(r&&null!=r.children&&(T.length||T.push(r.children),delete r.children);T.length;)if((n=T.pop())&&void 0!==n.pop)for(s=n.length;s--;)T.push(n[s]);else"boolean"==typeof n&&(n=null),(o="function"!=typeof t)&&(null==n?n="":"number"==typeof n?n=String(n):"string"!=typeof n&&(o=!1)),o&&i?a[a.length-1]+=n:a===P?a=[n]:a.push(n),i=o;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==r?void 0:r,u.key=null==r?void 0:r.key,void 0!==D.vnode&&D.vnode(u),u}function i(t,e){for(var r in e)t[r]=e[r];return t}function n(t,e){return r(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function o(t){!t.__d&&(t.__d=!0)&&1==O.push(t)&&(D.debounceRendering||R)(s)}function s(){var t,e=O;for(O=[];t=e.pop();)t.__d&&A(t)}function a(t,e,r){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&u(t,e.nodeName):r||t._componentConstructor===e.nodeName}function u(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function h(t){var e=i({},t.attributes);e.children=t.children;var r=t.nodeName.defaultProps;if(void 0!==r)for(var n in r)void 0===e[n]&&(e[n]=r[n]);return e}function f(t,e){var r=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return r.__n=t,r}function c(t){var e=t.parentNode;e&&e.removeChild(t)}function l(t,e,r,i,n){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)r&&r(null),i&&i(t);else if("class"!==e||n)if("style"===e){if(i&&"string"!=typeof i&&"string"!=typeof r||(t.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof r)for(var o in r)o in i||(t.style[o]="");for(var o in i)t.style[o]="number"==typeof i[o]&&!1===j.test(o)?i[o]+"px":i[o]}}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),i?r||t.addEventListener(e,d,s):t.removeEventListener(e,d,s),(t.__l||(t.__l={}))[e]=i}else if("list"!==e&&"type"!==e&&!n&&e in t)p(t,e,null==i?"":i),null!=i&&!1!==i||t.removeAttribute(e);else{var a=n&&e!==(e=e.replace(/^xlink\:?/,""));null==i||!1===i?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof i&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i))}else t.className=i||""}function p(t,e,r){try{t[e]=r}catch(t){}}function d(t){return this.__l[t.type](D.event&&D.event(t)||t)}function y(){for(var t;t=U.pop();)D.afterMount&&D.afterMount(t),t.componentDidMount&&t.componentDidMount()}function m(t,e,r,i,n,o){N++||(F=null!=n&&void 0!==n.ownerSVGElement,q=null!=t&&!("__preactattr_"in t));var s=v(t,e,r,i,o);return n&&s.parentNode!==n&&n.appendChild(s),--N||(q=!1,o||y()),s}function v(t,e,r,i,n){var o=t,s=F;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||n)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),_(t,!0))),o.__preactattr_=!0,o;var a=e.nodeName;if("function"==typeof a)return x(t,e,r,i);if(F="svg"===a||"foreignObject"!==a&&F,a=String(a),(!t||!u(t,a))&&(o=f(a,F),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),_(t,!0)}var h=o.firstChild,c=o.__preactattr_,l=e.children;if(null==c){c=o.__preactattr_={};for(var p=o.attributes,d=p.length;d--;)c[p[d].name]=p[d].value}return!q&&l&&1===l.length&&"string"==typeof l[0]&&null!=h&&void 0!==h.splitText&&null==h.nextSibling?h.nodeValue!=l[0]&&(h.nodeValue=l[0]):(l&&l.length||null!=h)&&g(o,l,r,i,q||null!=c.dangerouslySetInnerHTML),w(o,e.attributes,c),F=s,o}function g(t,e,r,i,n){var o,s,u,h,f,l=t.childNodes,p=[],d={},y=0,m=0,g=l.length,b=0,w=e?e.length:0;if(0!==g)for(var k=0;k<g;k++){var M=l[k],E=M.__preactattr_,S=w&&E?M._component?M._component.__k:E.key:null;null!=S?(y++,d[S]=M):(E||(void 0!==M.splitText?!n||M.nodeValue.trim():n))&&(p[b++]=M)}if(0!==w)for(var k=0;k<w;k++){h=e[k],f=null;var S=h.key;if(null!=S)y&&void 0!==d[S]&&(f=d[S],d[S]=void 0,y--);else if(!f&&m<b)for(o=m;o<b;o++)if(void 0!==p[o]&&a(s=p[o],h,n)){f=s,p[o]=void 0,o===b-1&&b--,o===m&&m++;break}f=v(f,h,r,i),u=l[k],f&&f!==t&&f!==u&&(null==u?t.appendChild(f):f===u.nextSibling?c(u):t.insertBefore(f,u))}if(y)for(var k in d)void 0!==d[k]&&_(d[k],!1);for(;m<=b;)void 0!==(f=p[b--])&&_(f,!1)}function _(t,e){var r=t._component;r?B(r):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||c(t),b(t))}function b(t){for(t=t.lastChild;t;){var e=t.previousSibling;_(t,!0),t=e}}function w(t,e,r){var i;for(i in r)e&&null!=e[i]||null==r[i]||l(t,i,r[i],r[i]=void 0,F);for(i in e)"children"===i||"innerHTML"===i||i in r&&e[i]===("value"===i||"checked"===i?t[i]:r[i])||l(t,i,r[i],r[i]=e[i],F)}function k(t){var e=t.constructor.name;(L[e]||(L[e]=[])).push(t)}function M(t,e,r){var i,n=L[t.name];if(t.prototype&&t.prototype.render?(i=new t(e,r),C.call(i,e,r)):(i=new C(e,r),i.constructor=t,i.render=E),n)for(var o=n.length;o--;)if(n[o].constructor===t){i.__b=n[o].__b,n.splice(o,1);break}return i}function E(t,e,r){return this.constructor(t,r)}function S(t,e,r,i,n){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||n?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i),i&&i!==t.context&&(t.__c||(t.__c=t.context),t.context=i),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==r&&(1!==r&&!1===D.syncComponentUpdates&&t.base?o(t):A(t,1,n)),t.__r&&t.__r(t))}function A(t,e,r,n){if(!t.__x){var o,s,a,u=t.props,f=t.state,c=t.context,l=t.__p||u,p=t.__s||f,d=t.__c||c,v=t.base,g=t.__b,b=v||g,w=t._component,k=!1;if(v&&(t.props=l,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(u,f,c)?k=!0:t.componentWillUpdate&&t.componentWillUpdate(u,f,c),t.props=u,t.state=f,t.context=c),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!k){o=t.render(u,f,c),t.getChildContext&&(c=i(i({},c),t.getChildContext()));var E,x,C=o&&o.nodeName;if("function"==typeof C){var I=h(o);s=w,s&&s.constructor===C&&I.key==s.__k?S(s,I,1,c,!1):(E=s,t._component=s=M(C,I,c),s.__b=s.__b||g,s.__u=t,S(s,I,0,c,!1),A(s,1,r,!0)),x=s.base}else a=b,E=w,E&&(a=t._component=null),(b||1===e)&&(a&&(a._component=null),x=m(a,o,c,r||!v,b&&b.parentNode,!0));if(b&&x!==b&&s!==w){var T=b.parentNode;T&&x!==T&&(T.replaceChild(x,b),E||(b._component=null,_(b,!1)))}if(E&&B(E),t.base=x,x&&!n){for(var P=t,R=t;R=R.__u;)(P=R).base=x;x._component=P,x._componentConstructor=P.constructor}}if(!v||r?U.unshift(t):k||(t.componentDidUpdate&&t.componentDidUpdate(l,p,d),D.afterUpdate&&D.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);N||n||y()}}function x(t,e,r,i){for(var n=t&&t._component,o=n,s=t,a=n&&t._componentConstructor===e.nodeName,u=a,f=h(e);n&&!u&&(n=n.__u);)u=n.constructor===e.nodeName;return n&&u&&(!i||n._component)?(S(n,f,3,r,i),t=n.base):(o&&!a&&(B(o),t=s=null),n=M(e.nodeName,f,r),t&&!n.__b&&(n.__b=t,s=null),S(n,f,1,r,i),t=n.base,s&&t!==s&&(s._component=null,_(s,!1))),t}function B(t){D.beforeUnmount&&D.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?B(r):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,c(e),k(t),b(e)),t.__r&&t.__r(null)}function C(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}function I(t,e,r){return m(r,t,{},!1,e,!1)}var D={},T=[],P=[],R="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,j=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,O=[],U=[],N=0,F=!1,q=!1,L={};i(C.prototype,{setState:function(t,e){var r=this.state;this.__s||(this.__s=i({},r)),i(r,"function"==typeof t?t(r,this.props):t),e&&(this.__h=this.__h||[]).push(e),o(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),A(this,2)},render:function(){}});var H={h:r,createElement:r,cloneElement:n,Component:C,render:I,rerender:s,options:D};t.exports=H}()},function(t,e){"use strict";function r(t){var e=t[t.length-1];return Boolean(128&e)}function i(t){var e=t[t.length-1];return Boolean(8&e)}function n(t){var e=t[t.length-1];return Boolean(4&e)}function o(t){return t&&("IIT"===t.format||"jks-key"===t.format)}function s(t){return t&&"Priv"===t.type}function a(t){return t&&"x509"===t.format&&r(t.extension.keyUsage)}function u(t){return t.name.endsWith(".jks")}Object.defineProperty(e,"__esModule",{value:!0}),e.canSign=r,e.canEnc=i,e.isCA=n,e.isKey=o,e.isOpen=s,e.isSigning=a,e.isJks=u},function(t,e,r){(function(e){"use strict";var i=r(35),n=r(2).bignum,o=r(87),s=r(19),a=r(42),u=r(5),h=r(39),f=u.maybeHex,c=function(t,e){var r,i,n=t.mod(),o=n,s=e.m,a=(s-1)/2;for(i=1;i<=a;i++)o=o.mod_sqr().mod_sqr(),o.addM(n);if(r=o.mod_mul(o),r.addM(o),r.equals(n))return o;throw new Error("squad eq fail")},l=function(t,e){var r;if(!e.modulus.testBit(0))throw new Error("only odd modulus is supported :(");return r=c(t,e),r.mod()},p=function(t){var e;if(e=a.cache[t],void 0!==e)return e;if(e=a[t],void 0===e)throw new Error("Curve with such name was not defined");return e=new _(e),a.cache[t]=e,e},d=function(t,e,r){var i;return i=p(t),i.pubkey(e,r)},y=function(t,e,r){var i;return i=p(t),i.pkey(e,r)},m=function(t,e,r){var n,s,a=t.zero,u=function(e){var r,i,o,s,u,h,f,c,l,p,d;if(r=t.param_a,c=new m(t,a,a),i=n.x,s=n.y,o=e.x,u=e.y,n.is_zero())return e;if(e.is_zero())return n;if(i.equals(o)===!1)p=s.add(u),d=i.add(o),l=p.mod_mul(d.invert()),h=r.add(l.mod_mul(l)),h.addM(l),h.addM(i),h.addM(o);else{if(u.equals(s)===!1)return c;if(o.is_zero())return c;l=o.add(e.y.mod_mul(e.x.invert())),h=l.mod_mul(l).add(r),h.addM(l)}return f=l.mod_mul(o.add(h)),f.addM(h),f.addM(u),c.x=h,c.y=f,c},h=function(){return this.add(this)},f=function(t){for(var e=this;t--;)e=e.twice();return e},c=function(t){return this.twice().add(t)},l=function(e){var r,i=new m(t,a,a);return e.is_zero()?i:(e.is_negative()?(e=e.negate(),r=n.negate()):r=this,o.mulPos(r,e))},p=function(){return new m(t,n.x,n.x.add(n.y))},d=function(){return n.x.is_zero()&&n.y.is_zero()},y=function(e){return t.expand(e)},v=function(){var t,e,r,i;return t=n.x.invert(),e=t.mod_mul(n.y),i=e.trace(),r=n.x,r=1===i?r.setBit(0):r.clearBit(0)},g=function(t){return t.x.equals(n.x)&&t.y.equals(n.y)},_=function(){return"<Point x:"+n.x.toString(16)+", y:"+n.y.toString(16)+" >"};return void 0===r&&(s=y(e),e=s.x,r=s.y),n={add:u,twice:h,timesPow2:f,twicePlus:c,mul:l,is_zero:d,negate:p,expand:y,compress:v,equals:g,toString:_,x:e._is_field?e:new i(e,"buf32",t),y:r._is_field?r:new i(r,"buf32",t),_precomp:{pos:[],neg:[]}},n._precomp.pos[0]=n,n},v=function(t){return"trinominal"===t.type?[t.value]:[t.value.k1,t.value.k2,t.value.k3]},g=function(t,e){var r="cert"===e?u.BIG_LE:u.BIG_BE;return new _({m:t.p.param_m,ks:v(t.p.ks),a:[t.param_a],b:r(t.param_b),order:u.BIG_BE(t.order.toArray()),kofactor:[2],base:r(t.bp)})},_=function(t,e,r,n,o,s,a){void 0===t.base&&(t={param_a:t,param_b:e,m:r,ks:n,base:o,order:s,kofactor:a}),this.expand_cache={};var u=Math.ceil(t.m/32);this.mod_tmp=new Uint32Array(u+u+4),this.inv_tmp1=new Uint32Array(u),this.inv_tmp2=new Uint32Array(u),this.order=f(t.order,u),this.kofactor=f(t.kofactor),this.param_a=f(t.a,u),this.param_b=f(t.b,u),this.param_m=t.m,this.m=t.m,this.ks=t.ks,this.mod_words=u,this.zero=new i([0],"buf32",this),this.one=new i("1","hex",this),this.modulus=this.comp_modulus(t.m,t.ks),this.mod_bits=new Uint32Array([this.m].concat(this.ks,[0])),this.param_a=new i(this.param_a,"buf32",this),this.param_b=new i(this.param_b,"buf32",this),this.a=this.param_a,this.b=this.param_b,this.order=new i(this.order,"buf32",this),this.kofactor=new i(this.kofactor,"buf32",this),void 0===t.base.x?t.base=this.expand(f(t.base,u)):(t.base.x=f(t.base.x,u),t.base.y=f(t.base.y,u)),this.set_base(t.base.x,t.base.y)};_.prototype.comp_modulus=function(t,e){var r,i=this.one;for(i=i.setBit(t),r=0;r<e.length;r++)i=i.setBit(e[r]);return i},_.prototype.set_base=function(t,e){var r,i;i=o.getWindowSize(this.m),i=Math.max(2,Math.min(16,i)),this.base=this.point(t,e),o.precomp(this.base,i),r=this.base.compress(),this.expand_cache[r.toString()]=this.base},_.prototype.expand=function(t){var e,r,n,o,s,a,u=this.a,h=this.b;return"string"==typeof t&&(t=new i(t,"hex",this)),t=t._is_field?t:new i(t,"buf32",this),t.is_zero()?{x:t,y:h.mod_mul(h)}:(o=this.expand_cache[t.toString()],void 0!==o?o:(n=t.testBit(0),t=t.clearBit(0),s=t.trace(),(0!==s&&u.is_zero()||0===s&&u.equals(this.one))&&(t=t.setBit(0)),e=t.mod_mul(t),r=e.mod_mul(t),u.equals(this.one)&&r.addM(e),r.addM(h),e=e.invert(),r=r.mod_mul(e),r=l(r,this),a=r.trace(),(n===!0&&0===a||n===!1&&0!==a)&&(r.bytes[0]^=1),r=r.mod_mul(t),{x:t,y:r}))},_.prototype.field=function(t){return new i(t.bytes,void 0,this).mod()},_.prototype.point=function(t,e){return new m(this,t,e)},_.prototype.truncate=function(t){for(var e=this.order.bitLength(),r=t.bitLength();e<=r;)t=t.clearBit(r-1),r=t.bitLength();return t},_.prototype.contains=function(t){var e,r;return e=t.x.add(this.a),e=e.mod_mul(t.x),e.addM(t.y),e=e.mod_mul(t.x),e.addM(this.b),r=t.y.mod_mul(t.y),e.addM(r),e.is_zero()},_.prototype.rand=function(){for(var t,r,n,o;;)if(t=this.order.bitLength(),r=Math.ceil(t/8),o=new e.Uint8Array(r),o=h(o),n=new i(o,"buf8",this),!this.order.less(n))return n},_.prototype.pkey=function(t,e){var r;return void 0===e&&(e=s.Priv.detect_format(t)),"hex"===e?(r=new i(t,"hex",this),new s.Priv(this,r)):"bignum"===e?new s.Priv(this,t):"buf8"===e||"buf32"===e?new s.Priv(this,new i(t,e,this)):void 0},_.prototype.pubkey=function(t,e){var r;return void 0===e&&(e=s.Pub.detect_format(t)),"hex"===e&&(t=new i(t,"hex",this),e="field"),"buf8"!==e&&"buf32"!==e||(t=new i(t,e,this),e="field"),"raw"===e&&(t=new i(t,"buf32",this),e="field"),r=this.point(t),new s.Pub(this,r,t)},_.prototype.equals=function(t){var e,r,i=["a","b","order","modulus"];for(e=0;e<i.length;e++)if(r=i[e],!this[r].equals(t[r]))return!1;return this.base.equals(t.base)},_.prototype.keygen=function(){for(var t,e,r=this.rand();;){if(t=new s.Priv(this,r),e=t.pub(),e.validate())return t;r=this.rand()}},_.prototype.as_struct=function(){var t;return 1===this.ks.length?t={type:"trinominal",value:this.ks[0]}:(t=this.ks,t={type:"pentanominal",value:{k1:t[0],k2:t[1],k3:t[2]}}),{p:{param_m:this.m,ks:t},param_a:this.param_a.bytes[0],param_b:this.param_b.le(),order:new n.BN(this.order.buf8(),8),bp:this.base.compress().le()}},_.prototype.calc_modulus=function(){var t,r,i,n=new e.Uint32Array(this.mod_words);for(n[0]=1,r=Math.floor(this.m/32),i=this.m%32,n[r]|=1<<i,t=0;t<this.ks.length;t++)r=Math.floor(this.ks[t]/32),i=this.ks[t]%32,n[r]|=1<<i;return n},_.prototype.curve_id=function(){return{163:0,167:1,173:2,179:3,191:4,233:5,257:6,307:7,367:8,431:9}[this.m]||255},_.resolve=function(t,e){return"params"===t.type?_.from_asn1(t.value,e):"id"===t.type?p(t.value):void 0},_.from_asn1=g,_.ks_parse=v,t.exports.Curve=_,t.exports.Field=i,t.exports.pkey=y,t.exports.pubkey=d,t.exports.std_curve=p}).call(e,function(){return this}())},function(t,e,r){var i=r(19),n=r(8),o=r(3),s=r(41),a=r(83),u=r(82),h=r(9),f=r(21),c=r(42),l=r(12);t.exports={b64_decode:h.b64_decode,b64_encode:h.b64_encode,Curve:l.Curve,Field:l.Field,pkey:l.pkey,pubkey:l.pubkey,std_curve:l.std_curve,transport:f,Priv:i.Priv,Pub:i.Pub,standard:c,dstszi2010:n,rfc3280:o,rfc3161:s,Keycoder:a,guess_parse:a.guess_parse,Box:u,models:i}},function(t,e,r){"use strict;";var i=r(1).Buffer,n=r(9).b64_decode,o=function(t){return!(t.constructor!==Uint8Array&&!i.isBuffer(t)||45!==t[0]||45!==t[1]||45!==t[2]||45!==t[3]||45!==t[4])||("string"==typeof t?0===t.indexOf("-----"):void 0)},s=function(t){var e,r,i;for("string"!=typeof t&&(t=String.fromCharCode.apply(null,t)),t=t.split("\n"),e=0;e<t.length;e++)if(i=t[e],0===i.indexOf("-----")){e++;break}for(r=1;r<=t.length&&(i=t[t.length-r],0!==i.indexOf("-----"));r++);return t=t.slice(e,-r).join(""),n(t)},a=function(t){return o(t)?s(t):t};t.exports={from_pem:s,is_pem:o,maybe_pem:a}},function(t,e,r){"use strict";var i=r(7),n=(r(32),r(16)),o=r(78),s=r(34),a=r(33),u=r(77);t.exports={init:i.init,PRNG:o,Hash:n,gosthash:n.gosthash,dumb_kdf:s.dumb_kdf,pbkdf:s.pbkdf,wrap_key:a.wrap,unwrap_key:a.unwrap,compat:u}},function(t,e,r){(function(e,i){"use strict";var n=r(7),o=function(){this.gost=n.init(),this.left=null,this.len=0;var t=new e.Uint8Array(264);this.U=t.subarray(0,32),this.W=t.subarray(32,64),this.V=t.subarray(64,96),this._S=t.subarray(96,128),this.Key=t.subarray(128,160),this.c8buf=t.subarray(160,168),this.H=t.subarray(168,200),this.S=t.subarray(200,232),this.buf=t.subarray(232,264),this.mem=t,this.ab2=new e.Int32Array(4)};o.prototype.swap_bytes=function(t,e){var r,i;for(r=0;r<4;r++)for(i=0;i<8;i++)e[r+4*i]=t[8*r+i]},o.prototype.circle_xor8=function(t,e){var r,i=this.c8buf;for(r=0;r<8;r++)i[r]=t[r];for(r=0;r<24;r++)e[r]=t[r+8];for(r=0;r<8;r++)e[r+24]=i[r]^e[r]},o.prototype.transform_3=function(t){var e,r;for(r=t[0]^t[2]^t[4]^t[6]^t[24]^t[30]|(t[1]^t[3]^t[5]^t[7]^t[25]^t[31])<<8,e=0;e<30;e++)t[e]=t[e+2];t[30]=255&r,t[31]=r>>>8},o.prototype.add_blocks=function(t,e,r){var i=this.ab2;i[2]=0,i[3]=0;var n;for(n=0;n<t;n++)i[0]=e[n],i[1]=r[n],i[2]=i[0]+i[1]+i[3],e[n]=255&i[2],i[3]=i[2]>>>8;return i[3]},o.prototype.xor_blocks=function(t,e,r){var i,n=e.length;for(i=0;i<n;i++)t[i]=e[i]^r[i]},o.prototype.step=function(t,e){var r,i=this.U,n=this.W,o=this.V,s=this._S,a=this.Key,u=this.gost;for(this.xor_blocks(n,t,e,32),this.swap_bytes(n,a),u.key(a),u.crypt64(t,s),this.circle_xor8(t,i),this.circle_xor8(e,o),this.circle_xor8(o,o),this.xor_blocks(n,i,o,32),this.swap_bytes(n,a),u.key(a),u.crypt64(t.subarray(8,16),s.subarray(8,16)),this.circle_xor8(i,i),i[31]=~i[31],i[29]=~i[29],i[28]=~i[28],i[24]=~i[24],i[23]=~i[23],i[20]=~i[20],i[18]=~i[18],i[17]=~i[17],i[14]=~i[14],i[12]=~i[12],i[10]=~i[10],i[8]=~i[8],i[7]=~i[7],i[5]=~i[5],i[3]=~i[3],i[1]=~i[1],this.circle_xor8(o,o),this.circle_xor8(o,o),this.xor_blocks(n,i,o,32),this.swap_bytes(n,a),u.key(a),u.crypt64(t.subarray(16,24),s.subarray(16,24)),this.circle_xor8(i,i),this.circle_xor8(o,o),this.circle_xor8(o,o),this.xor_blocks(n,i,o,32),this.swap_bytes(n,a),u.key(a),u.crypt64(t.subarray(24,32),s.subarray(24,32)),r=0;r<12;r++)this.transform_3(s);for(this.xor_blocks(s,s,e,32),this.transform_3(s),this.xor_blocks(s,s,t,32),r=0;r<61;r++)this.transform_3(s);for(r=0;r<32;r++)t[r]=s[r];return 1},o.prototype.update=function(t){"string"==typeof t&&(t=new i(t,"binary")),this.left&&(t=i.concat([this.left,t]));for(var e=t,r=0;t.length-r>=32;)this.step(this.H,e),this.add_blocks(32,this.S,e),r+=32,e=t.slice(r,r+32);this.len+=r,e.length>0&&(this.left=new i(e))},o.prototype.update32=function(t){this.step(this.H,t),this.add_blocks(32,this.S,t),this.len+=32},o.prototype.finish=function(t){var e=this.buf,r=this.len,i=0;if(this.left){for(i=0;i<this.left.length;i++)e[i]=this.left[i];for(this.step(this.H,e),this.add_blocks(32,this.S,e),r+=this.left.length,this.left=null,i=0;i<32;i++)e[i]=0}for(r<<=3,i=0;r>0;)e[i++]=255&r,r>>=8;for(this.step(this.H,e),this.step(this.H,this.S),i=0;i<32;i++)t[i]=this.H[i];return t},o.prototype.reset=function(){var t;for(t=0;t<32;t++)this.H[t]=0,this.S[t]=0;this.left=null,this.len=0};var s=function(){return new o};o.init=s,o.gosthash=function(t,r){var n=s();return"string"==typeof t&&(t=new i(t,"binary")),n.update(t),void 0===r&&(r=new e.Uint8Array(32)),new i(n.finish(r))},t.exports=o}).call(e,function(){return this}(),r(1).Buffer)},function(t,e){"use strict";var r=function(t){var e,r,i="",n=!0;for(r=t.length-1;r>=0;r--){for(e=t[r].toString(16);e.length<8&&n===!1;)e="0"+e;i+=e+" ",n=!1}return"<b "+i+">"},i=function(t){var e,r,i,n=1;for(i=t.length-1;0===t[i];)i--;return r=t[i],0!=(e=r>>>16)&&(r=e,n+=16),0!=(e=r>>8)&&(r=e,n+=8),0!=(e=r>>4)&&(r=e,n+=4),0!=(e=r>>2)&&(r=e,n+=2),0!=(e=r>>1)&&(r=e,n+=1),n+32*i},n=function(t,e,r){var i,n,o,s=Math.floor(e/32),e=e%32,a=t.length,u=32-e,h=(1<<1+e)-1;for(31==e&&(h=4294967295),n=r===!0?t:new Uint32Array(a),n[0]=t[0]>>>e,i=1;i<a;i++)o=t[i]&h,n[i]=t[i]>>>e,n[i-1]|=o<<u;if(0==s)return n;for(i=0;i<a;i++)n[i]=n[i+s]||0;return n},o=function(t,e){var r,i,n;for(i=t.length-1;i>=0;--i)r=t[i]==(2147483647&t[i])?0:1,e[i+1]^=r|n,n=(2147483647&t[i])<<1;return e[0]^=n,e},s=function(t,e,r){var i,n=e>>5,e=e%32,o=t.length+n+1,s=32-e,a=(1<<s)-1,u=0;for(i=o-1;i>=0;i--)r[i+1+n]^=u|t[i]>>>s,u=(t[i]&a)<<e;r[n]^=u},a=function(t,e,r,i){var n,o,s,a,u,h,f,c=r>>>30;o=1073741823&r,s=o<<1,a=s<<1,n=[0,o,s,o^s,a,o^a,s^a,o^s^a],u=n[7&i],h=u,u=n[i>>>3&7],h^=u<<3,f=u>>>29,u=n[i>>>6&7],h^=u<<6,f^=u>>>26,u=n[i>>>9&7],h^=u<<9,f^=u>>>23,u=n[i>>>12&7],h^=u<<12,f^=u>>>20,u=n[i>>>15&7],h^=u<<15,f^=u>>>17,u=n[i>>>18&7],h^=u<<18,f^=u>>>14,u=n[i>>>21&7],h^=u<<21,f^=u>>>11,u=n[i>>>24&7],h^=u<<24,f^=u>>>8,u=n[i>>>27&7],h^=u<<27,f^=u>>>5,u=n[i>>>30],h^=u<<30,f^=u>>>2,1&c&&(h^=i<<30,f^=i>>>2),2&c&&(h^=i<<31,f^=i>>>1),t[e+1]=f,t[e]=h},u=function(t,e,r,i,n){return a(n,2,t,r),a(n,0,e,i),a(n,4,e^t,i^r),n[2]^=n[5]^n[1]^n[3],n[1]=n[3]^n[2]^n[0]^n[4]^n[5],n[4]=0,n[5]=0,n},h=function(t,e,r){var r,i,n,o,s,a,h,f,c,l;if(c=t.length,l=e.length,r)for(h=0;h<r.length;h++)r[h]=0;else r=new Uint32Array(t.length+e.length+4);for(a=new Uint32Array(6),f=0;f<l;f+=2)for(n=e[f],i=f+1==l?0:e[f+1],h=0;h<c;h+=2)s=t[h],o=h+1==c?0:t[h+1],u(o,s,i,n,a),r[f+h+0]^=a[0],r[f+h+1]^=a[1],r[f+h+2]^=a[2],r[f+h+3]^=a[3]},f=32,c=function(t,e,r){var i,n,o,s,a,u,h;if(!r)for(i=t.length,r=new Uint32Array(i),o=0;o<i;o++)r[o]=t[o];for(var c=Math.floor(e[0]/f),l=i-1;l>c;)if(n=r[l],0!=r[l]){for(r[l]=0,o=1;e[o];o++)s=e[0]-e[o],a=s%f,u=f-a,s=Math.floor(s/f),r[l-s]^=n>>>a,a&&(r[l-s-1]^=n<<u);s=c,a=e[0]%f,u=f-a,r[l-s]^=n>>>a,a&&(r[l-s-1]^=n<<u)}else l--;for(;l===c&&(a=e[0]%f,n=r[c]>>>a,0!=n);)for(u=f-a,a?r[c]=r[c]<<u>>>u:r[c]=0,r[0]^=n,o=1;e[o];o++)s=Math.floor(e[o]/f),a=e[o]%f,u=f-a,r[s]^=n<<a,h=n>>>u,a&&h&&(r[s+1]^=h);return r},l=function(t,e,r){var e,n,o,s,a,u,h,f=new Uint32Array(t.length),c=new Uint32Array(t.length),o=new Uint32Array(t.length);for(f[0]=1,n=t,a=0;a<e.length;a++)o[a]=e[a];u=i(n),h=i(o);for(var l,p,d,y,m;;){if(u<0)throw new Error("Internal error");for(;u&&!(1&n[0]);){for(l=n[0],d=f[0],m=1&d?4294967295:0,d^=e[0]&m,a=0;a<e.length-1;a++)p=n[a+1],n[a]=l>>>1|p<<31,l=p,y=f[a+1]^e[a+1]&m,f[a]=d>>>1|y<<31,d=y;n[a]=l>>1,f[a]=d>>1,u--}if(u<=32&&1==n[0])break;for(u<h&&(s=u,u=h,h=s,s=n,n=o,o=s,s=f,f=c,c=s),a=0;a<e.length;a++)n[a]^=o[a],f[a]^=c[a];u===h&&(u=i(n))}for(a=0;a<f.length;a++)r[a]=f[a]};t.exports={mul_2x2:u,shiftRight:n,lShiftXor:s,l1ShiftXor:o,bstring:r,blength:i,mod:c,mul:h,inv:l}},function(t,e,r){"use strict";var i=r(12),n=r(3),o=r(2),s=r(5),a=r(14),u=r(9).b64_encode,h={"1 2 804 2 1 1 1 11 1 4 1 1":"DRFO","1 2 804 2 1 1 1 11 1 4 2 1":"EDRPOU"},f={"1 3 6 1 5 5 7 48 1":"ocsp","1 3 6 1 5 5 7 48 2":"issuers","1 3 6 1 5 5 7 48 3":"tsp"},c=o.define("IPN_VAL",function(){this.implicit(19).octstr()}),l=o.define("IPN_ID",function(){this.seq().obj(this.key("id").objid(h),this.key("val").setof(c))}),p=o.define("IPN",function(){this.seqof(l)}),d=o.define("Link",function(){this.seq().obj(this.key("id").objid(f),this.key("link").implicit(6).ia5str());
}),y=o.define("AIA",function(){this.seqof(d)}),m=function(t){var e=2;return 128&t[1]&&(e+=128^t[1]),12==t[0]?t.slice(e).toString("utf8"):t.slice(e).toString("binary")},v=function(t,e){var r=t.toString(16),i=[];return e.map(function(t){t.map(function(t){i.push(t.type+"="+m(t.value))})}),r+"@"+i.join("/")},g=function(t,e){this.setup(t,e),this._raw=t._raw,delete t._raw};g.prototype.setup=function(t,e){var r=t.tbsCertificate,n=r.subjectPublicKeyInfo,o=n.subjectPublicKey.data.slice(2);this.format="x509",this.curve=i.Curve.resolve(n.algorithm.parameters.curve,"cert"),this.pk_data=s.BIG_LE(o),this.valid={from:r.validity.notBefore.value,to:r.validity.notAfter.value},this.serial=t.tbsCertificate.serialNumber,this.extension=this.parse_ext(t.tbsCertificate.extensions),this.issuer=this.parse_dn(t.tbsCertificate.issuer.value),this.subject=this.parse_dn(t.tbsCertificate.subject.value),this.ob=t,e||this.pubkey_unpack()},g.prototype.pubkey_unpack=function(){this.pubkey||(this.pubkey=this.curve.pubkey(this.pk_data))},g.prototype.parse_ipn=function(t){var e,r,i={},n=p.decode(t,"der");for(e=0;e<n.length;e++)r=n[e],i[r.id]=String.fromCharCode.apply(null,r.val[0]);return i},g.prototype.parse_ext=function(t){var e,r,i;for(e={},r=0;r<t.length;r++)i=t[r],e[i.extnID]=i.extnValue;return void 0!==e.subjectDirectoryAttributes&&(e.ipn=this.parse_ipn(e.subjectDirectoryAttributes)),void 0!==e.authorityInfoAccess&&this.parse_aia(e.authorityInfoAccess,e),void 0!==e.subjectInfoAccess&&this.parse_aia(e.subjectInfoAccess,e),e},g.prototype.parse_aia=function(t,e){var r=y.decode(t,"der");return r.reduce(function(t,e){return t[e.id]=e.link,t},e||{})},g.prototype.parse_dn=function(t){var e,r,i,n;for(e={},r=0;r<t.length;r++)for(i=0;i<t[r].length;i++)n=t[r][i],12!==n.value[0]||n.value[1]!==n.value.length-2?19!==n.value[0]||n.value[1]!==n.value.length-2?e[n.type]=n.value:e[n.type]=n.value.slice(2).toString():e[n.type]=s.strFromUtf8(n.value.slice(2));return e},g.prototype.as_asn1=function(){return void 0!==this._raw?this._raw:n.Certificate.encode(this.ob,"der")},g.prototype.to_asn1=g.prototype.as_asn1,g.prototype.as_pem=function(){return"-----BEGIN CERTIFICATE-----\n"+u(this.to_asn1(),{line:16,pad:!0})+"\n-----END CERTIFICATE-----"},g.prototype.to_pem=g.prototype.as_pem,g.prototype.as_dict=function(){var t=this;return{subject:t.subject,issuer:t.issuer,extension:t.extension,valid:t.valid}},g.prototype.nameSerial=function(){return{issuer:this.ob.tbsCertificate.issuer,serialNumber:this.ob.tbsCertificate.serialNumber}},g.prototype.rdnSerial=function(){return v(this.ob.tbsCertificate.serialNumber,this.ob.tbsCertificate.issuer.value)},g.from_asn1=function(t){var e=n.Certificate.decode(t,"der");return e._raw=t,new g(e)},g.from_pem=function(t){return g.from_asn1(a.maybe_pem(t))},g.prototype.name_asn1=function(){return n.Name.encode(this.ob.tbsCertificate.issuer,"der")},t.exports=g,t.exports.formatRDN=v},function(t,e,r){t.exports.Certificate=r(18),t.exports.Message=r(36),t.exports.Pub=r(38),t.exports.Priv=r(37)},function(t,e,r){var i=r(2),n=r(3),o={"1 2 804 2 1 1 1 1 3 1 1":"DSTU_4145_LE","1 3 6 1 4 1 19398 1 1 2 3":"DSTU_4145_KEY_BITS","1 3 6 1 4 1 19398 1 1 2 2":"DSTU_4145_CURVE"},s=i.define("KeyAttrValue",function(){this.choice({param_d:this.bitstr(),dstu4145:this.use(d),unknown:this.any()})}),a=i.define("KeyAttrValues",function(){this.setof(s)}),u=i.define("Attr",function(){this.seq().obj(this.key("id").objid(o),this.key("value").use(a))}),h=i.define("Pentanominal",function(){this.seq().obj(this.key("k1").int(),this.key("k2").int(),this.key("k3").int())}),f=i.define("Polynomial",function(){this.choice({trinominal:this.int(),pentanominal:this.use(h)})}),c=i.define("CurveParams",function(){this.seq().obj(this.key("p").seq().obj(this.key("param_m").int(),this.key("ks").use(f)),this.key("param_a").int(),this.key("param_b").octstr(),this.key("order").int(),this.key("bp").octstr())}),l={"1 2 804 2 1 1 1 1 3 1 1 2 6":"DSTU_PB_257","1 2 804 2 1 1 1 1 3 1 1 2 9":"DSTU_PB_431"},p=i.define("Curve",function(){this.choice({id:this.objid(l),params:this.use(c)})}),d=i.define("CurveParams",function(){this.seq().obj(this.key("curve").use(p),this.key("dke").optional().octstr(),this.key("dke2").optional().octstr())});t.exports.DstuParams=d;var y=i.define("DstuPrivkey",function(){this.seq().obj(this.key("version").int(),this.key("priv0").seq().obj(this.key("id").objid(o),this.key("p").seq().obj(this.key("p").use(p),this.key("sbox").optional().octstr())),this.key("param_d").octstr(),this.key("attr").implicit(0).seqof(u))});t.exports.DstuPrivkey=y;var m=i.define("KeyEncryptionAlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(n.ALGORITHMS_IDS),this.key("parameters").use(d))});n.injectPubAlgo(m);var v=i.define("StoreIIT",function(){this.seq().obj(this.key("cryptParam").seq().obj(this.key("cryptType").objid({"1 3 6 1 4 1 19398 1 1 1 2":"IIT Store","1 2 840 113549 1 5 13":"PBES2","1 2 840 113549 1 5 12":"PBKDF2","1 2 804 2 1 1 1 1 1 2":"GOST_34311_HMAC","1 2 804 2 1 1 1 1 1 1 3":"GOST_28147_CFB","1 2 804 2 1 1 1 1 3 1 1":"DSTU_4145_LE"}),this.key("cryptParam").seq().obj(this.key("mac").octstr(),this.key("pad").octstr().optional())),this.key("cryptData").octstr())}),g=function(t){var e,r,i=v.decode(t,"der");if(e=i.cryptParam.cryptParam.mac,r=i.cryptParam.cryptParam.pad,4!==e.length)throw new Error("Invalid mac len "+e.length);if(r.length>=8)throw new Error("Invalid pad len "+r.length);if("IIT Store"!==i.cryptParam.cryptType)throw new Error("Invalid storage type");return{format:"IIT",mac:e,pad:r,body:i.cryptData}};t.exports.StoreIIT=v,t.exports.enc_parse=g},function(t,e,r){var i=r(1).Buffer,n=r(86),o=r(9).b64_decode,s=new RegExp("<([\\w][\\w\\d]*)([^>]*)>([\\s\\S]*?)</\\1>","g"),a=function(t,e){if(!e.length)throw new Error("Can't write data of unknown length");void 0===t._pos&&(t._pos=0);var r;if(Array.isArray(e)&&(e=new i(e)),i.isBuffer(e)?(r=e.copy(t,t._pos),void 0===r&&(r=Math.min(t.length-t._pos,e.length))):r=t.write(e,t._pos),r===e.length)return t._pos+=r,t;var n;if(!(r<e.length))throw new Error("Impossible happened");if(n=new i(Math.max(2*t.length,2*e.length)),n._pos=t._pos,t.copy(n),t=n,i.isBuffer(e)?(r=e.copy(t,t._pos),void 0===r&&(r=Math.min(t.length-t._pos,e.length))):r=t.write(e,t._pos),r!==e.length)throw new Error("Failed to grow buffer");return t._pos+=r,t},u=function(t,e){var r;return t=a(t,"TRANSPORTABLE\0"),r=t._pos,t._pos+=4,Object.keys(e).map(function(r){t=a(t,r),t=a(t,"="),t=a(t,e[r]),t=a(t,"\r\n")}),t=a(t,"\0"),t.writeUInt32LE(t._pos-r-4,r),t},h=function(t,e){var r=new i(1024);return e&&(r=u(r,e)),t.map(function(t){r=a(r,t.type),r=a(r,"\0"),r.writeUInt32LE(t.contents.length,r._pos),r._pos+=4,r=a(r,t.contents)}),r.slice(0,r._pos)},f=function(t){for(var e,r,i={},n=0,o=n;t[n];)61===t[n]&&(e=t.slice(o,n).toString(),o=n+1),10===t[n]&&13===t[n-1]&&(r=t.slice(o,n-1),i[e]=r.toString("binary"),o=n+1),n++;return i},c=function(t,e){for(var r,i,n=0,o={data:[],hash:[]};n<t.length;)if(2===t[n])n++,r=t.readUInt32LE(n),n+=4,r>0?(o.data.push(t.slice(n,n+r)),i="data"):i="zero",n+=r;else if(32===t[n])n++,r=32,o.hash.push(t.slice(n,n+r)),n+=r,i="hash";else if(0===t.readUInt32BE(n))n+=4,i="zero";else{if(void 0===i)throw new Error("Unable to split QLB");r=t.readUInt32LE(n),n+=4,o.data.push(t.slice(n,n+r)),n+=r,i="data"}return o},l=function(t){var e,r,i,n=[];if("<?xml"!==t.slice(0,5).toString())throw Error("This is not XML");if(r=s.exec(t.toString()),null===r)throw Error("Invalid XML data - cannot find root element");if(r.length<4)throw Error("Invalid XML data - cannot process root element");for(s.lastIndex=0;null!==(i=s.exec(r[3]));)i.length<4||(e=i[1]+i[2],n.push({name:e,content:o(i[3])}));return n},p=function(t){for(var e,r,i,o={docs:[]},s=0,a=0;s<t.length;){if("PACKED_XML"===t.slice(0,10).toString()){try{i=n.unpack(t),i=l(i)}catch(t){throw console.error(t.message),t}for(o.header={};i.length>0;){var u=i.shift();"DOCUMENT"===u.name?o.docs.push({type:u.name,contents:u.content,encoding:"PACKED_XML_DOCUMENT"}):o.header[u.name]=u.content}break}for(;t[s]&&s-a<20;)s++;if(0!==t[s])throw new Error("No label found");if(e=t.slice(a,s).toString(),"USC_SIGN"!==e&&"USC_CRYPT"!==e){if(r=t[++s],r|=t[++s]<<8,r|=t[++s]<<16,r|=t[++s]<<24,s++,r<0||r+s>t.length)throw new Error("Invalid length of '"+e+"' section:"+r);"TRANSPORTABLE"===e||"ZPOSTTRANSPORTABLE"===e?o.header=f(t.slice(s,s+r)):"QLB_SIGN"===e?(i=c(t.slice(s,s+r),s),o.docs.push({type:e,contents:i.data[0],hash:i.hash[0]}),o.docs.push({type:"DATA",contents:i.data[1]})):"QLB_CRYPT"==e?(i=c(t.slice(s,s+r),s),o.docs.push({type:"CERTCRYPT",contents:i.data[0]}),o.docs.push({type:e,contents:i.data[1],hash:i.hash[0]})):o.docs.push({type:e,contents:t.slice(s,s+r)}),s+=r,a=s}else s++,a=s}return o};t.exports={encode:h,decode:p}},function(t,e,r){var i=r(44),n=r(46);t.exports={decode:i,parse:n}},function(t,e,r){"use strict";function i(){}function n(t){try{return t.then}catch(t){return v=t,g}}function o(t,e){try{return t(e)}catch(t){return v=t,g}}function s(t,e,r){try{t(e,r)}catch(t){return v=t,g}}function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==i&&y(t,this)}function u(t,e,r){return new t.constructor(function(n,o){var s=new a(i);s.then(n,o),h(t,new d(e,r,s))})}function h(t,e){for(;3===t._81;)t=t._65;return a._10&&a._10(t),0===t._81?0===t._45?(t._45=1,void(t._54=e)):1===t._45?(t._45=2,void(t._54=[t._54,e])):void t._54.push(e):void f(t,e)}function f(t,e){m(function(){var r=1===t._81?e.onFulfilled:e.onRejected;if(null===r)return void(1===t._81?c(e.promise,t._65):l(e.promise,t._65));var i=o(r,t._65);i===g?l(e.promise,v):c(e.promise,i)})}function c(t,e){if(e===t)return l(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var r=n(e);if(r===g)return l(t,v);if(r===t.then&&e instanceof a)return t._81=3,t._65=e,void p(t);if("function"==typeof r)return void y(r.bind(e),t)}t._81=1,t._65=e,p(t)}function l(t,e){t._81=2,t._65=e,a._97&&a._97(t,e),p(t)}function p(t){if(1===t._45&&(h(t,t._54),t._54=null),2===t._45){for(var e=0;e<t._54.length;e++)h(t,t._54[e]);t._54=null}}function d(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function y(t,e){var r=!1,i=s(t,function(t){r||(r=!0,c(e,t))},function(t){r||(r=!0,l(e,t))});r||i!==g||(r=!0,l(e,v))}var m=r(52),v=null,g={};t.exports=a,a._10=null,a._97=null,a._61=i,a.prototype.then=function(t,e){if(this.constructor!==a)return u(this,t,e);var r=new a(i);return h(this,new d(t,e,r)),r}},function(t,e,r){function i(t,e){return s.call(this,e),a.isBuffer(t)?(this.base=t,this.offset=0,void(this.length=t.length)):void this.error("Input not Buffer")}function n(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof n||(t=new n(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=a.byteLength(t);else{if(!a.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}var o=r(4),s=r(6).Reporter,a=r(1).Buffer;o(i,s),e.DecoderBuffer=i,i.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},i.prototype.restore=function(t){var e=new i(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,s.prototype.restore.call(this,t.reporter),e},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},i.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new i(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},i.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=n,n.prototype.join=function(t,e){return t||(t=new a(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):a.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){var i=e;i._reverse=function(t){var e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);var i=t[r];e[i]=r}),e},i.der=r(56)},function(t,e,r){function i(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new n,this.tree._init(t.body)}function n(t){h.Node.call(this,"der",t)}function o(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var i=c.tagClass[r>>6],n=0===(32&r);if(31===(31&r)){var o=r;for(r=0;128===(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=127&o}}else r&=31;var s=c.tag[r];return{cls:i,primitive:n,tag:r,tagStr:s}}function s(t,e,r){var i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&128===i)return null;if(0===(128&i))return i;var n=127&i;if(n>4)return t.error("length octect is too long");i=0;for(var o=0;o<n;o++){i<<=8;var s=t.readUInt8(r);if(t.isError(s))return s;i|=s}return i}var a=r(4),u=r(2),h=u.base,f=u.bignum,c=u.constants.der;t.exports=i,i.prototype.decode=function(t,e){return t instanceof h.DecoderBuffer||(t=new h.DecoderBuffer(t,e)),this.tree._decode(t,e)},a(n,h.Node),n.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;var i=t.save(),n=o(t,'Failed to peek tag: "'+e+'"');return t.isError(n)?n:(t.restore(i),n.tag===e||n.tagStr===e||n.tagStr+"of"===e||r)},n.prototype._decodeTag=function(t,e,r){var i=o(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;var n=s(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(n))return n;if(!r&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==n)return t.skip(n,'Failed to match body of: "'+e+'"');var a=t.save(),u=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(u)?u:(n=t.offset-a.offset,t.restore(a),t.skip(n,'Failed to match body of: "'+e+'"'))},n.prototype._skipUntilEnd=function(t,e){for(;;){var r=o(t,e);if(t.isError(r))return r;var i=s(t,r.primitive,e);if(t.isError(i))return i;var n;if(n=r.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(n))return n;if("end"===r.tagStr)break}},n.prototype._decodeList=function(t,e,r,i){for(var n=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var s=r.decode(t,"der",i);if(t.isError(s)&&o)break;n.push(s)}return n},n.prototype._decodeStr=function(t,e){if("bitstr"===e){var r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if("bmpstr"===e){var i=t.raw();if(i.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");for(var n="",o=0;o<i.length/2;o++)n+=String.fromCharCode(i.readUInt16BE(2*o));return n}if("numstr"===e){var s=t.raw().toString("ascii");return this._isNumstr(s)?s:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},n.prototype._decodeObjid=function(t,e,r){for(var i,n=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,0===(128&s)&&(n.push(o),o=0)}128&s&&n.push(o);var a=n[0]/40|0,u=n[0]%40;if(i=r?n:[a,u].concat(n.slice(1)),e){var h=e[i.join(" ")];void 0===h&&(h=e[i.join(".")]),void 0!==h&&(i=h)}return i},n.prototype._decodeTime=function(t,e){var r=t.raw().toString();if("gentime"===e)var i=0|r.slice(0,4),n=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");var i=0|r.slice(0,2),n=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,n-1,o,s,a,u,0)},n.prototype._decodeNull=function(t){return null},n.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},n.prototype._decodeInt=function(t,e){var r=t.raw(),i=new f(r);return i.negative=i.sign=128&r[0],e&&(i=e[i.toString(10)]||i),i},n.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,r){function i(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new n,this.tree._init(t.body)}function n(t){f.Node.call(this,"der",t)}function o(t){return t<10?"0"+t:t}function s(t,e,r,i){var n;if("seqof"===t?t="seq":"setof"===t&&(t="set"),c.tagByName.hasOwnProperty(t))n=c.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);n=t}return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=c.tagClassByName[r||"universal"]<<6)}var a=r(4),u=r(1).Buffer,h=r(2),f=h.base,c=h.constants.der;t.exports=i,i.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},a(n,f.Node),n.prototype._encodeComposite=function(t,e,r,i){var n=s(t,e,r,this.reporter);if(i.length<128){var o=new u(2);return o[0]=n,o[1]=i.length,this._createEncoderBuffer([o,i])}for(var a=1,h=i.length;h>=256;h>>=8)a++;var o=new u(2+a);o[0]=n,o[1]=128|a;for(var h=1+a,f=i.length;f>0;h--,f>>=8)o[h]=255&f;return this._createEncoderBuffer([o,i])},n.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var r=new u(2*t.length),i=0;i<t.length;i++)r.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(r)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},n.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var i=0;i<t.length;i++)t[i]|=0}else if(Array.isArray(t)){t=t.slice();for(var i=0;i<t.length;i++)t[i]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}for(var n=0,i=0;i<t.length;i++){var o=t[i];for(n++;o>=128;o>>=7)n++}for(var s=new u(n),a=s.length-1,i=t.length-1;i>=0;i--){var o=t[i];for(s[a--]=127&o;(o>>=7)>0;)s[a--]=128|127&o}return this._createEncoderBuffer(s)},n.prototype._encodeTime=function(t,e){var r,i=new Date(t);return"gentime"===e?r=[o(i.getFullYear()),o(i.getUTCMonth()+1),o(i.getUTCDate()),o(i.getUTCHours()),o(i.getUTCMinutes()),o(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[o(i.getFullYear()%100),o(i.getUTCMonth()+1),o(i.getUTCDate()),o(i.getUTCHours()),o(i.getUTCMinutes()),o(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!u.isBuffer(t)){var r=t.toArray();!t.sign&&128&r[0]&&r.unshift(0),t=new u(r)}if(u.isBuffer(t)){var i=t.length;0===t.length&&i++;var n=new u(i);return t.copy(n),0===t.length&&(n[0]=0),this._createEncoderBuffer(n)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);for(var i=1,o=t;o>=256;o>>=8)i++;for(var n=new Array(i),o=n.length-1;o>=0;o--)n[o]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new u(n))},n.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},n.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},n.prototype._skipDefault=function(t,e,r){var i,n=this._baseState;if(null===n.default)return!1;var o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){(function(t){"use strict";function r(e){if(e.contents)return Promise.resolve(e);var r=new FileReader;return new Promise(function(i,n){r.onload=function(r){return i({name:e.name,contents:new t(r.target.result)})},r.onerror=n,r.readAsArrayBuffer(e)})}Object.defineProperty(e,"__esModule",{value:!0}),e.readFile=r}).call(e,r(1).Buffer)},function(t,e,r){(function(t){"use strict";function r(e,r,i){return fetch(e,{body:r,method:"POST",mode:"cors"}).then(function(t){return t.arrayBuffer()}).then(function(e){return new t(new Uint8Array(e))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r}).call(e,r(1).Buffer)},function(t,e,r){"use strict";function i(t,e){var r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function n(t,e){i("data:application/octet-stream;base64,"+(0,o.b64_encode)(t),e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=r(13)},function(t,e,r){(function(t){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){return o.isBN(t)?t:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))))}function s(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function a(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}function u(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}function h(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var h=1;h<i;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,e.length-1),p=Math.max(0,h-t.length+1);p<=l;p++){var d=h-p|0;n=0|t.words[d],o=0|e.words[p],s=n*o+c,f+=s/67108864|0,c=67108863&s}r.words[h]=0|c,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}function f(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var f=o-h,c=0|t.words[f],l=0|e.words[h],p=c*l,d=67108863&p;s=s+(p/67108864|0)|0,d=d+a|0,a=67108863&d,s=s+(d>>>26)|0,n+=s>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}function c(t,e,r){var i=new l;return i.mulp(t,e,r)}function l(t,e){this.x=t,this.y=e}function p(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){p.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){p.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function m(){p.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){p.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var b;try{b=r(96).Buffer}catch(t){}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var n=0;"-"===t[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=s(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,o+=24,o>=26&&(o-=26,i++);r+6!==e&&(n=s(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,u=Math.min(o,o-s)+r,h=0,f=r;f<u;f+=i)h=a(t,f,f+i,e),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var c=1;for(h=a(t,f,t.length,e),f=0;f<s;f++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){t=t||10,e=0|e||1;var r;if(16===t||"hex"===t){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<n|o)).toString(16);o=a>>>24-n&16777215,r=0!==o||s!==this.length-1?w[6-u.length]+u+r:u+r,n+=2,n>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=k[t],f=M[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var l=c.modn(f).toString(t);c=c.idivn(f),r=c.isZero()?l+r:w[h-l.length]+l+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return i("undefined"!=typeof b),this.toArrayLike(b,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,h=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-n;a++)h[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),h[o-a-1]=s}return h},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return i(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return i(0===(this.negative|t.negative)),
this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return i(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(t){var e;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var r,i;this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var i,n;r>0?(i=this,n=t):(i=t,n=this);for(var o=0,s=0;s<n.length;s++)e=(0|i.words[s])-(0|n.words[s])+o,o=e>>26,this.words[s]=67108863&e;for(;0!==o&&s<i.length;s++)e=(0|i.words[s])+o,o=e>>26,this.words[s]=67108863&e;if(0===o&&s<i.length&&i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=Math.max(this.length,s),i!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var E=function(t,e,r){var i,n,o,s=t.words,a=e.words,u=r.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],v=8191&m,g=m>>>13,_=0|s[3],b=8191&_,w=_>>>13,k=0|s[4],M=8191&k,E=k>>>13,S=0|s[5],A=8191&S,x=S>>>13,B=0|s[6],C=8191&B,I=B>>>13,D=0|s[7],T=8191&D,P=D>>>13,R=0|s[8],j=8191&R,O=R>>>13,U=0|s[9],N=8191&U,F=U>>>13,q=0|a[0],L=8191&q,H=q>>>13,K=0|a[1],z=8191&K,G=K>>>13,Y=0|a[2],X=8191&Y,W=Y>>>13,V=0|a[3],Z=8191&V,J=V>>>13,$=0|a[4],Q=8191&$,tt=$>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ft=0|a[8],ct=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19,i=Math.imul(c,L),n=Math.imul(c,H),n=n+Math.imul(l,L)|0,o=Math.imul(l,H);var mt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(d,L),n=Math.imul(d,H),n=n+Math.imul(y,L)|0,o=Math.imul(y,H),i=i+Math.imul(c,z)|0,n=n+Math.imul(c,G)|0,n=n+Math.imul(l,z)|0,o=o+Math.imul(l,G)|0;var vt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,L),n=Math.imul(v,H),n=n+Math.imul(g,L)|0,o=Math.imul(g,H),i=i+Math.imul(d,z)|0,n=n+Math.imul(d,G)|0,n=n+Math.imul(y,z)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(c,X)|0,n=n+Math.imul(c,W)|0,n=n+Math.imul(l,X)|0,o=o+Math.imul(l,W)|0;var gt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(b,L),n=Math.imul(b,H),n=n+Math.imul(w,L)|0,o=Math.imul(w,H),i=i+Math.imul(v,z)|0,n=n+Math.imul(v,G)|0,n=n+Math.imul(g,z)|0,o=o+Math.imul(g,G)|0,i=i+Math.imul(d,X)|0,n=n+Math.imul(d,W)|0,n=n+Math.imul(y,X)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(c,Z)|0,n=n+Math.imul(c,J)|0,n=n+Math.imul(l,Z)|0,o=o+Math.imul(l,J)|0;var _t=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(M,L),n=Math.imul(M,H),n=n+Math.imul(E,L)|0,o=Math.imul(E,H),i=i+Math.imul(b,z)|0,n=n+Math.imul(b,G)|0,n=n+Math.imul(w,z)|0,o=o+Math.imul(w,G)|0,i=i+Math.imul(v,X)|0,n=n+Math.imul(v,W)|0,n=n+Math.imul(g,X)|0,o=o+Math.imul(g,W)|0,i=i+Math.imul(d,Z)|0,n=n+Math.imul(d,J)|0,n=n+Math.imul(y,Z)|0,o=o+Math.imul(y,J)|0,i=i+Math.imul(c,Q)|0,n=n+Math.imul(c,tt)|0,n=n+Math.imul(l,Q)|0,o=o+Math.imul(l,tt)|0;var bt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(A,L),n=Math.imul(A,H),n=n+Math.imul(x,L)|0,o=Math.imul(x,H),i=i+Math.imul(M,z)|0,n=n+Math.imul(M,G)|0,n=n+Math.imul(E,z)|0,o=o+Math.imul(E,G)|0,i=i+Math.imul(b,X)|0,n=n+Math.imul(b,W)|0,n=n+Math.imul(w,X)|0,o=o+Math.imul(w,W)|0,i=i+Math.imul(v,Z)|0,n=n+Math.imul(v,J)|0,n=n+Math.imul(g,Z)|0,o=o+Math.imul(g,J)|0,i=i+Math.imul(d,Q)|0,n=n+Math.imul(d,tt)|0,n=n+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(c,rt)|0,n=n+Math.imul(c,it)|0,n=n+Math.imul(l,rt)|0,o=o+Math.imul(l,it)|0;var wt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(C,L),n=Math.imul(C,H),n=n+Math.imul(I,L)|0,o=Math.imul(I,H),i=i+Math.imul(A,z)|0,n=n+Math.imul(A,G)|0,n=n+Math.imul(x,z)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(M,X)|0,n=n+Math.imul(M,W)|0,n=n+Math.imul(E,X)|0,o=o+Math.imul(E,W)|0,i=i+Math.imul(b,Z)|0,n=n+Math.imul(b,J)|0,n=n+Math.imul(w,Z)|0,o=o+Math.imul(w,J)|0,i=i+Math.imul(v,Q)|0,n=n+Math.imul(v,tt)|0,n=n+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0,i=i+Math.imul(d,rt)|0,n=n+Math.imul(d,it)|0,n=n+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(c,ot)|0,n=n+Math.imul(c,st)|0,n=n+Math.imul(l,ot)|0,o=o+Math.imul(l,st)|0;var kt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(T,L),n=Math.imul(T,H),n=n+Math.imul(P,L)|0,o=Math.imul(P,H),i=i+Math.imul(C,z)|0,n=n+Math.imul(C,G)|0,n=n+Math.imul(I,z)|0,o=o+Math.imul(I,G)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(A,W)|0,n=n+Math.imul(x,X)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(M,Z)|0,n=n+Math.imul(M,J)|0,n=n+Math.imul(E,Z)|0,o=o+Math.imul(E,J)|0,i=i+Math.imul(b,Q)|0,n=n+Math.imul(b,tt)|0,n=n+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,i=i+Math.imul(v,rt)|0,n=n+Math.imul(v,it)|0,n=n+Math.imul(g,rt)|0,o=o+Math.imul(g,it)|0,i=i+Math.imul(d,ot)|0,n=n+Math.imul(d,st)|0,n=n+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(c,ut)|0,n=n+Math.imul(c,ht)|0,n=n+Math.imul(l,ut)|0,o=o+Math.imul(l,ht)|0;var Mt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(j,L),n=Math.imul(j,H),n=n+Math.imul(O,L)|0,o=Math.imul(O,H),i=i+Math.imul(T,z)|0,n=n+Math.imul(T,G)|0,n=n+Math.imul(P,z)|0,o=o+Math.imul(P,G)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(C,W)|0,n=n+Math.imul(I,X)|0,o=o+Math.imul(I,W)|0,i=i+Math.imul(A,Z)|0,n=n+Math.imul(A,J)|0,n=n+Math.imul(x,Z)|0,o=o+Math.imul(x,J)|0,i=i+Math.imul(M,Q)|0,n=n+Math.imul(M,tt)|0,n=n+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,i=i+Math.imul(b,rt)|0,n=n+Math.imul(b,it)|0,n=n+Math.imul(w,rt)|0,o=o+Math.imul(w,it)|0,i=i+Math.imul(v,ot)|0,n=n+Math.imul(v,st)|0,n=n+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0,i=i+Math.imul(d,ut)|0,n=n+Math.imul(d,ht)|0,n=n+Math.imul(y,ut)|0,o=o+Math.imul(y,ht)|0,i=i+Math.imul(c,ct)|0,n=n+Math.imul(c,lt)|0,n=n+Math.imul(l,ct)|0,o=o+Math.imul(l,lt)|0;var Et=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(N,L),n=Math.imul(N,H),n=n+Math.imul(F,L)|0,o=Math.imul(F,H),i=i+Math.imul(j,z)|0,n=n+Math.imul(j,G)|0,n=n+Math.imul(O,z)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(T,X)|0,n=n+Math.imul(T,W)|0,n=n+Math.imul(P,X)|0,o=o+Math.imul(P,W)|0,i=i+Math.imul(C,Z)|0,n=n+Math.imul(C,J)|0,n=n+Math.imul(I,Z)|0,o=o+Math.imul(I,J)|0,i=i+Math.imul(A,Q)|0,n=n+Math.imul(A,tt)|0,n=n+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,i=i+Math.imul(M,rt)|0,n=n+Math.imul(M,it)|0,n=n+Math.imul(E,rt)|0,o=o+Math.imul(E,it)|0,i=i+Math.imul(b,ot)|0,n=n+Math.imul(b,st)|0,n=n+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,i=i+Math.imul(v,ut)|0,n=n+Math.imul(v,ht)|0,n=n+Math.imul(g,ut)|0,o=o+Math.imul(g,ht)|0,i=i+Math.imul(d,ct)|0,n=n+Math.imul(d,lt)|0,n=n+Math.imul(y,ct)|0,o=o+Math.imul(y,lt)|0,i=i+Math.imul(c,dt)|0,n=n+Math.imul(c,yt)|0,n=n+Math.imul(l,dt)|0,o=o+Math.imul(l,yt)|0;var St=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(N,z),n=Math.imul(N,G),n=n+Math.imul(F,z)|0,o=Math.imul(F,G),i=i+Math.imul(j,X)|0,n=n+Math.imul(j,W)|0,n=n+Math.imul(O,X)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(T,Z)|0,n=n+Math.imul(T,J)|0,n=n+Math.imul(P,Z)|0,o=o+Math.imul(P,J)|0,i=i+Math.imul(C,Q)|0,n=n+Math.imul(C,tt)|0,n=n+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(A,rt)|0,n=n+Math.imul(A,it)|0,n=n+Math.imul(x,rt)|0,o=o+Math.imul(x,it)|0,i=i+Math.imul(M,ot)|0,n=n+Math.imul(M,st)|0,n=n+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,i=i+Math.imul(b,ut)|0,n=n+Math.imul(b,ht)|0,n=n+Math.imul(w,ut)|0,o=o+Math.imul(w,ht)|0,i=i+Math.imul(v,ct)|0,n=n+Math.imul(v,lt)|0,n=n+Math.imul(g,ct)|0,o=o+Math.imul(g,lt)|0,i=i+Math.imul(d,dt)|0,n=n+Math.imul(d,yt)|0,n=n+Math.imul(y,dt)|0,o=o+Math.imul(y,yt)|0;var At=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(N,X),n=Math.imul(N,W),n=n+Math.imul(F,X)|0,o=Math.imul(F,W),i=i+Math.imul(j,Z)|0,n=n+Math.imul(j,J)|0,n=n+Math.imul(O,Z)|0,o=o+Math.imul(O,J)|0,i=i+Math.imul(T,Q)|0,n=n+Math.imul(T,tt)|0,n=n+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(C,rt)|0,n=n+Math.imul(C,it)|0,n=n+Math.imul(I,rt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(A,ot)|0,n=n+Math.imul(A,st)|0,n=n+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,i=i+Math.imul(M,ut)|0,n=n+Math.imul(M,ht)|0,n=n+Math.imul(E,ut)|0,o=o+Math.imul(E,ht)|0,i=i+Math.imul(b,ct)|0,n=n+Math.imul(b,lt)|0,n=n+Math.imul(w,ct)|0,o=o+Math.imul(w,lt)|0,i=i+Math.imul(v,dt)|0,n=n+Math.imul(v,yt)|0,n=n+Math.imul(g,dt)|0,o=o+Math.imul(g,yt)|0;var xt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(N,Z),n=Math.imul(N,J),n=n+Math.imul(F,Z)|0,o=Math.imul(F,J),i=i+Math.imul(j,Q)|0,n=n+Math.imul(j,tt)|0,n=n+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,i=i+Math.imul(T,rt)|0,n=n+Math.imul(T,it)|0,n=n+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(C,ot)|0,n=n+Math.imul(C,st)|0,n=n+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,i=i+Math.imul(A,ut)|0,n=n+Math.imul(A,ht)|0,n=n+Math.imul(x,ut)|0,o=o+Math.imul(x,ht)|0,i=i+Math.imul(M,ct)|0,n=n+Math.imul(M,lt)|0,n=n+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0,i=i+Math.imul(b,dt)|0,n=n+Math.imul(b,yt)|0,n=n+Math.imul(w,dt)|0,o=o+Math.imul(w,yt)|0;var Bt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(N,Q),n=Math.imul(N,tt),n=n+Math.imul(F,Q)|0,o=Math.imul(F,tt),i=i+Math.imul(j,rt)|0,n=n+Math.imul(j,it)|0,n=n+Math.imul(O,rt)|0,o=o+Math.imul(O,it)|0,i=i+Math.imul(T,ot)|0,n=n+Math.imul(T,st)|0,n=n+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(C,ut)|0,n=n+Math.imul(C,ht)|0,n=n+Math.imul(I,ut)|0,o=o+Math.imul(I,ht)|0,i=i+Math.imul(A,ct)|0,n=n+Math.imul(A,lt)|0,n=n+Math.imul(x,ct)|0,o=o+Math.imul(x,lt)|0,i=i+Math.imul(M,dt)|0,n=n+Math.imul(M,yt)|0,n=n+Math.imul(E,dt)|0,o=o+Math.imul(E,yt)|0;var Ct=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(N,rt),n=Math.imul(N,it),n=n+Math.imul(F,rt)|0,o=Math.imul(F,it),i=i+Math.imul(j,ot)|0,n=n+Math.imul(j,st)|0,n=n+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,i=i+Math.imul(T,ut)|0,n=n+Math.imul(T,ht)|0,n=n+Math.imul(P,ut)|0,o=o+Math.imul(P,ht)|0,i=i+Math.imul(C,ct)|0,n=n+Math.imul(C,lt)|0,n=n+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,i=i+Math.imul(A,dt)|0,n=n+Math.imul(A,yt)|0,n=n+Math.imul(x,dt)|0,o=o+Math.imul(x,yt)|0;var It=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(N,ot),n=Math.imul(N,st),n=n+Math.imul(F,ot)|0,o=Math.imul(F,st),i=i+Math.imul(j,ut)|0,n=n+Math.imul(j,ht)|0,n=n+Math.imul(O,ut)|0,o=o+Math.imul(O,ht)|0,i=i+Math.imul(T,ct)|0,n=n+Math.imul(T,lt)|0,n=n+Math.imul(P,ct)|0,o=o+Math.imul(P,lt)|0,i=i+Math.imul(C,dt)|0,n=n+Math.imul(C,yt)|0,n=n+Math.imul(I,dt)|0,o=o+Math.imul(I,yt)|0;var Dt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(N,ut),n=Math.imul(N,ht),n=n+Math.imul(F,ut)|0,o=Math.imul(F,ht),i=i+Math.imul(j,ct)|0,n=n+Math.imul(j,lt)|0,n=n+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,i=i+Math.imul(T,dt)|0,n=n+Math.imul(T,yt)|0,n=n+Math.imul(P,dt)|0,o=o+Math.imul(P,yt)|0;var Tt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(N,ct),n=Math.imul(N,lt),n=n+Math.imul(F,ct)|0,o=Math.imul(F,lt),i=i+Math.imul(j,dt)|0,n=n+Math.imul(j,yt)|0,n=n+Math.imul(O,dt)|0,o=o+Math.imul(O,yt)|0;var Pt=(h+i|0)+((8191&n)<<13)|0;h=(o+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(N,dt),n=Math.imul(N,yt),n=n+Math.imul(F,dt)|0,o=Math.imul(F,yt);var Rt=(h+i|0)+((8191&n)<<13)|0;return h=(o+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=vt,u[2]=gt,u[3]=_t,u[4]=bt,u[5]=wt,u[6]=kt,u[7]=Mt,u[8]=Et,u[9]=St,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Dt,u[16]=Tt,u[17]=Pt,u[18]=Rt,0!==h&&(u[19]=h,r.length++),r};Math.imul||(E=h),o.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?E(this,t,e):i<63?h(this,t,e):i<1024?f(this,t,e):c(this,t,e)},l.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},l.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},l.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},l.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),f=0;f<n;f+=a)for(var c=u,l=h,p=0;p<s;p++){var d=r[f+p],y=i[f+p],m=r[f+p+s],v=i[f+p+s],g=c*m-l*v;v=c*v+l*m,m=g,r[f+p]=d+m,i[f+p]=y+v,r[f+p+s]=d-m,i[f+p+s]=y-v,p!==a&&(g=u*c-h*l,l=u*l+h*c,c=g)}},l.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},l.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},l.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},l.prototype.convert13b=function(t,e,r,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)r[s]=0;i(0===o),i(0===(o&-8192))},l.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},l.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),u=new Array(i),h=new Array(i),f=new Array(i),c=new Array(i),l=r.words;l.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,a,u,i,n),this.transform(h,o,f,c,i,n);for(var p=0;p<i;p++){var d=a[p]*f[p]-u[p]*c[p];u[p]=a[p]*c[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,i),this.transform(a,u,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),c(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,r=0;r<this.length;r++){var n=(0|this.words[r])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=u(t);if(0===e.length)return new o(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){i("number"==typeof t&&t>=0);var n;n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(n-=s,n=Math.max(0,n),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=n);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return!1;var o=this.words[r];return!!(o&n)},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var n,o=t.length+r;this._expand(o);var s,a=0;for(n=0;n<t.length;n++){s=(0|this.words[n+r])+a;var u=(0|t.words[n])*e;s-=67108863&u,a=(s>>26)-(u/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)s=(0|this.words[n+r])+a,a=s>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(a===-1),a=0,n=0;n<this.length;n++)s=-(0|this.words[n])+a,a=s>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=this.length-t.length,i=this.clone(),n=t,s=0|n.words[n.length-1],a=this._countBits(s);r=26-a,0!==r&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var u,h=i.length-n.length;if("mod"!==e){u=new o(null),u.length=h+1,u.words=new Array(u.length);for(var f=0;f<u.length;f++)u.words[f]=0}var c=i.clone()._ishlnsubmul(n,1,h);0===c.negative&&(i=c,u&&(u.words[h]=1));for(var l=h-1;l>=0;l--){var p=67108864*(0|i.words[n.length+l])+(0|i.words[n.length+l-1]);for(p=Math.min(p/s|0,67108863),i._ishlnsubmul(n,p,l);0!==i.negative;)p--,i.negative=0,i._ishlnsubmul(n,1,l),i.isZero()||(i.negative^=1);u&&(u.words[l]=p)}return u&&u.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:u||null,mod:i}},o.prototype.divmod=function(t,e,r){if(i(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var n,s,a;return 0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,r=0,n=this.length-1;n>=0;n--)r=(e*r+(0|this.words[n]))%t;return r},o.prototype.idivn=function(t){i(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*e;this.words[r]=n/t|0,e=n%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),a=new o(0),u=new o(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var f=r.clone(),c=e.clone();!e.isZero();){for(var l=0,p=1;0===(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(f),s.isub(c)),n.iushrn(1),s.iushrn(1);for(var d=0,y=1;0===(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(a),s.isub(u)):(r.isub(e),a.isub(n),u.isub(s))}return{a:a,b:u,gcd:r.iushln(h)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),a=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0===(e.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(e.iushrn(u);u-- >0;)n.isOdd()&&n.iadd(a),n.iushrn(1);for(var f=0,c=1;0===(r.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(r.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(s)):(r.isub(e),s.isub(n))}var l;return l=0===e.cmpn(1)?n:s,l.cmpn(0)<0&&l.iadd(t),l},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e=t<0;if(0!==this.negative&&!e)return-1;if(0===this.negative&&e)return 1;this.strip();var r;if(this.length>1)r=1;else{e&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];r=n===t?0:n<t?-1:1}return 0!==this.negative?0|-r:r},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return this.cmpn(t)===-1},o.prototype.lt=function(t){return this.cmp(t)===-1},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new g(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var S={k256:null,p224:null,p192:null,p25519:null};p.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},p.prototype.ireduce=function(t){var e,r=t;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),e=r.bitLength();while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},p.prototype.split=function(t,e){t.iushrn(this.n,0,e)},p.prototype.imulK=function(t){return t.imul(this.k)},n(d,p),d.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},d.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(y,p),n(m,p),n(v,p),v.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function t(e){if(S[e])return S[e];var t;if("k256"===e)t=new d;else if("p224"===e)t=new y;else if("p192"===e)t=new m;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return S[e]=t,t},g.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,e){i(0===(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},g.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},g.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},g.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},g.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},g.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},g.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},g.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},g.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},g.prototype.isqr=function(t){return this.imul(t,t.clone())},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,n),l=this.pow(t,n.addn(1).iushrn(1)),p=this.pow(t,n),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();i(m<d);var v=this.pow(c,new o(1).iushln(d-m-1));l=l.redMul(v),c=v.redSqr(),p=p.redMul(c),d=m}return l},g.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},g.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=4,i=new Array(1<<r);i[0]=new o(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var s=i[0],a=0,u=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var f=e.words[n],c=h-1;c>=0;c--){var l=f>>c&1;s!==i[0]&&(s=this.sqr(s)),0!==l||0!==a?(a<<=1,a|=l,u++,(u===r||0===n&&0===c)&&(s=this.mul(s,i[a]),u=0,a=0)):u=0}h=26}return s},g.prototype.convertTo=function(t){
var e=t.umod(this.m);return e===t?e.clone():e},g.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new _(t)},n(_,g),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}}("undefined"==typeof t||t,this)}).call(e,r(95)(t))},function(t,e,r){"use strict";var i=r(1).Buffer,n=new i("0102030E060D0B080F0A0C050709000403080B0506040E0A020C0107090F0D0002080907050F000B0C010D0E0A0306040F080E090702000D0C0601050B04030A03080D09060B0F0002050C0A040E01070F0605080E0B0A040C0003070209010D08000C040906070B0203010F050E0A0D0A090D060E0B04050F01030C07000802","hex");t.exports={defaultSbox:n}},function(t,e,r){(function(e){"use strict";var i=r(1).Buffer,n=r(7),o=new i([74,221,162,44,121,232,33,5]),s=function(t,r,s){var a,u,h,f,c=n.init(),l=new e.Uint8Array(40),p=new e.Uint8Array(44),d=new e.Uint8Array(48);for(c.key(r),u=c.mac(32,t),a=0;a<32;a++)l[a]=t[a];for(a=32;a<40;a++)l[a]=u[a-32]||0;for(h=c.crypt_cfb(s,l),a=0;a<8;a++)p[a]=s[a];for(a=8;a<44;a++)p[a]=h[a-8];for(a=0;a<48;a++)d[a]=p[44-a-1];return f=c.crypt_cfb(o,d),new i(f.slice(0,44))},a=function(t,r){var s,a,u,h,f,c=n.init(),l=new e.Uint8Array(4),p=new e.Uint8Array(8),d=new e.Uint8Array(40),y=new i(44);for(c.key(r),h=c.decrypt_cfb(o,t),s=0;s<44;s++)y[s]=h[44-s-1];for(s=0;s<8;s++)p[s]=y[s];for(s=0;s<36;s++)d[s]=y[s+8];for(u=c.decrypt_cfb(p,d),s=0;s<4;s++)l[s]=u[s+32];if(f=c.mac(32,u.slice(0,32)),a=l[0]^f[0],a|=l[1]^f[1],a|=l[2]^f[2],a|=l[3]^f[3],0!==a)throw new Error("Key unwrap failed. Checksum mismatch");return new i(u.slice(0,32))};t.exports={unwrap:a,wrap:s}}).call(e,function(){return this}())},function(t,e,r){(function(e){"use strict";var i=r(1).Buffer,n=r(16),o=function(t,e){var r=n.init(),o=new i(32);for(r.update(t),r.finish(o),e--;e--;)r.reset(),r.update32(o),r.finish(o);return new i(o)},s=function(t,r,o){"string"==typeof t&&(t=new i(t,"binary"));var s=new i(32),a=new e.Uint8Array(32),u=new e.Uint8Array(32),h=new e.Uint8Array(32),f=n.init(),c=new e.Uint8Array(4);c[3]=1;var l;for(l=0;l<32;l++)u[l]=54,h[l]=92;for(l=0;l<t.length;l++)u[l]^=t[l];for(l=0,l=0;l<t.length;l++)h[l]^=t[l];for(f.update32(u),f.update(r),f.update(c),f.finish(s),f.reset(),f.update32(h),f.update32(s),f.finish(s),o--,l=0;l<32;l++)a[l]=s[l];for(;o-- >0;)for(f.reset(),f.update32(u),f.update32(s),f.finish(s),f.reset(),f.update32(h),f.update32(s),f.finish(s),l=0;l<32;l++)a[l]^=s[l];return new i(a)};t.exports={dumb_kdf:o,pbkdf:s}}).call(e,function(){return this}())},function(t,e,r){"use strict";var i=r(1).Buffer,n=r(17),o=n,s=function(t,e,r){if(void 0===r||void 0===r.mod_words)throw new Error("pass curve to field constructor");if(null!==t&&t._is_field)throw new Error("wtf");null===t?(this.bytes=new Uint32Array(r.mod_words),this.length=r.mod_words):this.setValue(t,e,r.mod_words),this._is_field=!0,this.curve=r,this.mod_bits=r.mod_bits,this.mod_words=r.mod_words};s.prototype.toString=function(t){for(var e,r="",i=!0,n=this.bytes,o=n.length-1;o>=0;o--)if(e=n[o].toString(16),!i||0!=n[o]){for(;e.length<8&&i===!1;)e="0"+e;r+=e,i=!1}return t===!0?r:"<Field "+r+">"},s.prototype.mod_mul=function(t){var e=this.curve.mod_tmp;return o.mul(this.bytes,t.bytes,e),e=o.mod(e,this.mod_bits).subarray(0,this.mod_words),new s(e,void 0,this.curve)},s.prototype.mod_sqr=function(){return this.mod_mul(this)},s.prototype.mod=function(){var t=o.mod(this.bytes,this.mod_bits);return new s(t,void 0,this.curve)},s.prototype.addM=function(t,e){var r,i=t.bytes,n=i.length,o=e||this.bytes,s=this.bytes,a=Math.max((s||e).length,n);for(s.length<n&&(s=new Uint32Array(this.mod_words)),r=0;r<a;r++)s[r]=o[r]^(i[r]||0);this.bytes=s,this.length=s.length},s.prototype.add=function(t){var e=new s(null,void 0,this.curve);return e.addM(t,this.bytes),e},s.prototype.is_zero=function(){var t,e=this.length;for(t=0;t<e;t++)if(0!==this.bytes[t])return!1;return!0},s.prototype.equals=function(t){for(var e,r=this.length,i=t.length,n=this.bytes,o=0,s=t.bytes;0===s[i-1];)i--;for(;0===n[r-1];)r--;if(i!=r)return!1;for(e=0;e<r;e++)o|=this.bytes[e]^s[e];return 0===o},s.prototype.less=function(t){for(var e=this.length,r=t.length,i=this.bytes,n=t.bytes;0===n[r-1];)r--;for(;0===i[e-1];)e--;return r>e||i[e]<n[r]},s.prototype.bitLength=function(){return n.blength(this.bytes)},s.prototype.testBit=function(t){var e=Math.floor(t/32),r=t%32,i=this.bytes[e],n=1<<r;return void 0===i||0!==(i&n)},s.prototype.clone=function(){return new s(new Uint32Array(this.bytes),void 0,this.curve)},s.prototype.clearBit=function(t){var e=Math.floor(t/32),r=t%32,i=this.bytes[e],n=1<<r;if(void 0===i)return this;i^=i&n;var o=this.clone();return o.bytes[e]=i,o},s.prototype.setBit=function(t){var e=Math.floor(t/32),r=t%32,i=this.bytes[e],n=1<<r;if(void 0===i)return this;var o=this.clone();return o.bytes[e]|=n,o},s.prototype.shiftRight=function(t){return 0===t?this.clone():new s(n.shiftRight(this.bytes,t,!1),void 0,this.curve)},s.prototype.shiftRightM=function(t){0!==t&&n.shiftRight(this.bytes,t,!0)},s.prototype.buf8=function(){var t,e=new Uint8Array(4*this.bytes.length),r=e.length;for(t=0;t<this.bytes.length;t++)e[r-4*t-1]=255&this.bytes[t],e[r-4*t-2]=this.bytes[t]>>>8&255,e[r-4*t-3]=this.bytes[t]>>>16&255,e[r-4*t-4]=this.bytes[t]>>>24&255;return e},s.prototype.le=function(){var t=Math.ceil(this.curve.m/8),e=this.buf8();return e=Array.prototype.slice.call(e,0),new i(e.reverse()).slice(0,t)},s.prototype.truncate_buf8=function(){var t=this.buf8(),e=t.length-this.curve.order.bitLength()/8;return e<0?t:t.subarray(e)},s.prototype.is_negative=function(){return!1},s.prototype.trace=function(){var t,e=this.curve.m,r=this;for(t=1;t<=e-1;t++)r=r.mod_mul(r),r.addM(this);return 1&r.bytes[0]},s.prototype.setValue=function(t,e,r){if(null!==t&&t._is_field)throw new Error("wtf");return void 0===e||"buf32"===e?(this.bytes=t,void(this.length=t.length)):"hex"===e?(this.bytes=u(t,r),void(this.length=this.bytes.length)):("bn"===e&&(t=t.toArray(),e="buf8"),void("buf8"===e&&(this.bytes=h(t,r),this.length=this.bytes.length)))},s.prototype.invert=function(t,e){var r=o.mod(this.bytes,this.mod_bits),i=this.curve.calc_modulus(this.mod_bits);return o.inv(r,i,r),new s(r,void 0,this.curve)};var a="0123456789ABCDEF",u=function(t,e){var r,i,n,o=0,s=0,u=Math.ceil(t.length/8);u=Math.max(u,e||u);var h=new Uint32Array(u);for(r=t.length-1;r>=0;r--){if(i=t.charAt(r).toUpperCase(),n=a.indexOf(i),s%=8,n<0)throw new Error("Wrong input at "+r);h[o]|=n<<4*s,7==s&&o++,s++}return h},h=function(t,e){var r=0,i=0,n=Math.ceil(t.length/4);n=Math.max(n,e||n);var o,s,a=new Uint32Array(n);if("[object Uint32Array]"===t.toString())throw new Error("fuck off");for(o=t.length-1;o>=0;o--)s=t[o],i%=4,s<0&&(s=256+s),a[r]|=s<<8*i,3===i&&r++,i++;return a};t.exports=s,t.exports.from_hex=u,t.exports.from_u8=h,t.exports.set_impl=function(t){o=t}},function(t,e,r){"use strict";var i=r(8),n=r(3),o=r(85),s=i.ContentInfo,a=r(21),u=r(5),h=r(18),f=r(1).Buffer,c=function(t){this.type=null,this.info=null,f.isBuffer(t)?this.parse(t):"object"==typeof t&&this.construct(t)};c.prototype.construct=function(t){"signedData"===t.type&&this.constructSigned(t),"envelopedData"===t.type&&this.constructEnveloped(t),"data"===t.type&&this.constructData(t),this.info=this.wrap.content,this.type=this.wrap.contentType,this.cert=t.cert},c.prototype.constructData=function(t){var e={contentType:t.type,content:t.data};this.wrap=e,this.info=e.content},c.prototype.constructEnveloped=function(t){var e=t.cert,r=e.ob.tbsCertificate.subjectPublicKeyInfo.algorithm,i=r.parameters.dke,n=t.crypter.encrypt(t.data,t.toCert,t.algo),o={version:3,originator:{type:"issuerAndSerialNumber",value:e.nameSerial()},ukm:n.ukm,keyEncryptionAlgorithm:{algorithm:"dhSinglePass-cofactorDH-gost34311kdf",parameters:{algorithm:"Gost28147-cfb-wrap",parameters:null}},recipientEncryptedKeys:[{rid:{type:"issuerAndSerialNumber",value:t.toCert.nameSerial()},encryptedKey:n.wcek}]},s={contentType:t.type,content:{version:2,recipientInfos:[{type:"kari",value:o}],encryptedContentInfo:{contentType:"data",encryptedContent:n.data,contentEncryptionAlgorithm:{algorithm:"Gost28147-cfb",parameters:{type:"params",value:{iv:n.iv,dke:i}}}}}};this.wrap=s,this.info=s.content},c.prototype.constructSigned=function(t){var e=t.signB,r=t.dataHash||t.hash(t.data),i=t.tspB,n=[this.certv2(t.cert,t.hash(t.cert.as_asn1())),this.contentType("data"),this.digestAttr(r),i&&this.tspAttr(i,r),this.timeAttr(t.signTime)].filter(function(t){return Boolean(t)});if(void 0===e){this.attrs=n,this.info={contentInfo:{content:t.data}};var o=this.mhash(t.hash);e=t.signer.sign(o,"le")}var s={contentType:t.type,content:{version:1,digestAlgorithms:[{algorithm:"Gost34311"}],contentInfo:{contentType:"data",content:t.data},certificate:[t.cert.ob],signerInfos:[{version:1,sid:{type:"issuerAndSerialNumber",value:t.cert.nameSerial()},digestAlgorithm:{algorithm:"Gost34311"},digestEncryptionAlgorithm:{algorithm:"Dstu4145le"},encryptedDigest:e,authenticatedAttributes:n}]}};this.wrap=s,this.info=s.content,this.attrs=n},c.prototype.digestAttr=function(t){return t=i.Data.encode(t,"der"),{type:"messageDigest",values:[t]}},c.prototype.tspAttr=function(t){return{type:"contentTimeStamp",values:[t]}},c.prototype.timeAttr=function(t){t=void 0!==t?new Date(1e3*t):new Date;var e=n.Time.encode({type:"utcTime",value:t},"der");return{type:"signingTime",values:[e]}},c.prototype.contentType=function(t){var e=i.ContentType.encode(t,"der");return{type:"contentType",values:[e]}},c.prototype.certv2=function(t,e){return{type:"signingCertificateV2",values:[o.SigningCertificateV2.wrap(t.ob,e)]}},c.prototype.parse=function(t){var e;e=s.decode(t,"der"),this.wrap=e,this.type=e.contentType,this.info=e.content,"envelopedData"===this.type&&(this.enc_info=this.info.encryptedContentInfo,this.enc_params=this.enc_info.contentEncryptionAlgorithm.parameters.value,1===this.info.recipientInfos.length&&(this.rki=this.info.recipientInfos[0].value),this.enc_contents=this.info.encryptedContentInfo.encryptedContent),"signedData"===this.type&&this.info.signerInfos.length&&(this.attrs=this.info.signerInfos[0].authenticatedAttributes),this.parseAttrs()},c.prototype.mhash=function(t){var e;return e=this.attrs?i.Attributes.encode(this.attrs,"der"):this.info.contentInfo.content,t(e)},c.prototype.parseAttrs=function(){if(this.attrs){var t={};this.attrs.map(function(e){var r=e.type.substr(0,1).toUpperCase();r="parse"+r+e.type.substr(1),this[r]&&(t[e.type]=this[r](e.values[0]))}.bind(this)),this.pattrs=t}},c.prototype.parseMessageDigest=function(t){if(4===t[0]&&t[1]===t.length-2)return t.slice(2)},c.prototype.parseSigningTime=function(t){return n.Time.decode(t,"der").value},c.prototype.verifyAttrs=function(t){if(!this.attrs)return!0;var e;return e=this.verifyAttrDigest(this.pattrs.messageDigest,t),e=e&&this.verifySigningTime(this.pattrs.signingTime)},c.prototype.verifyAttrDigest=function(t,e){if(!t)return!1;var r=this.info.contentInfo.content,i=e(r),n=0,o=0;for(o=0;o<t.length;o++)n=t[o]^i[o];return 0===n},c.prototype.verifySigningTime=function(t){if(!t)return!0;var e=this.signer();return t>=e.valid.from&&t<=e.valid.to},c.prototype.verify=function(t){var e=this.mhash(t),r=this.signer();return!!this.verifyAttrs(t)&&r.pubkey.verify(e,this.info.signerInfos[0].encryptedDigest,"le")},c.prototype.decrypt=function(t,e,r){var i,n=this.info.recipientInfos[0];if("issuerAndSerialNumber"===n.value.originator.type){if(i=r(n.value.originator.value),!i)throw new l;i=i.pubkey}if("originatorKey"===n.value.originator.type){var o=this.info.recipientInfos[0].value.originator;i=o.value.publicKey.data.slice(2),i=t.curve.pubkey(u.add_zero(i,!0),"buf8")}var s=this.info.encryptedContentInfo,a=s.contentEncryptionAlgorithm.parameters.value,h=this.info.recipientInfos[0].value.recipientEncryptedKeys[0],f={ukm:this.info.recipientInfos[0].value.ukm,iv:a.iv,wcek:h.encryptedKey};return t.decrypt(s.encryptedContent,i,f,e)},c.prototype.signer=function(){return new h(this.info.certificate[0])},c.prototype.as_asn1=function(){var t=s.encode(this.wrap,"der");return t},c.prototype.as_transport=function(t,e){var r,i=[];return"signedData"===this.type&&(r="UA1_SIGN"),"envelopedData"===this.type&&(r="UA1_CRYPT"),e&&i.push({type:"CERTCRYPT",contents:this.cert.as_asn1()}),i.push({type:r,contents:this.as_asn1()}),a.encode(i,t)};var l=function(){};l.prototype=new Error,t.exports=c,t.exports.ENOCERT=l},function(t,e,r){(function(e){"use strict";function i(t){return new n.Curve({m:t.p.param_m,ks:n.Curve.ks_parse(t.p.ks),a:[t.param_a],b:s.BIG_LE(t.param_b),order:s.BIG_BE(t.order.toArray()),kofactor:[4>>t.param_a],base:s.BIG_LE(t.bp)})}var n=r(12),o=r(31),s=r(5),a=r(39),u=r(14),h=r(9).b64_encode,f=r(8),c=r(40),l=r(20),p=r(20),d=p.DstuPrivkey,y=r(38),m=r(1).Buffer,v=n.Field,g=function(t){return f.SharedInfo.encode({keyInfo:{algorithm:"Gost28147-cfb-wrap",parameters:null},entityInfo:t||void 0,suppPubInfo:new m("\0\0\0")},"der")},_=function(t){if(s.is_hex(t)===!0)return"hex";throw new Error("Unknown privkey format")},b=function(t){var e,r,i,o,a,u={};for(e=0;e<t.length;e++)r=t[e],void 0!==r.id&&(u[r.id]=r.value[0].value);if(u.DSTU_4145_KEY_BITS&&void 0!==u.DSTU_4145_CURVE&&(i=u.DSTU_4145_KEY_BITS.data,o=u.DSTU_4145_CURVE,void 0!==i&&0!==i.length))return a=new n.Curve.resolve(o.curve),a.pkey(s.BIG_INVERT(i),"buf8")},w=function(t,e){var r,o,a,u;a=d.decode(t,"der");var h=a.priv0.p.p;return u="id"===h.type?n.std_curve(h.value):i(h.value),r=u.pkey(s.BIG_LE(a.param_d),"buf32"),e!==!0?r:(o=b(a.attr),{keys:o?[r,o]:[r],format:"privkeys"})},k=function(t,e){var r,i,n,o,s,a;for(r=t.s.truncate_buf8(),i=t.r.truncate_buf8(),n=Math.max(r.length,i.length),o=new m(2+2*n),o.writeUInt8(4,0),o.writeUInt8(2*n,1),s=0;s<n;s++)a=i[n-s-1],o.writeUInt8(a<0?256+a:a,s+2);for(s=0;s<n;s++)a=r[n-s-1],o.writeUInt8(a<0?256+a:a,s+2+n);return e?o.slice(2):o},M=function(t,e){if("short"===e||"le"===e)return k(t,"le"===e);throw new Error("Unkown signature format "+e)},E=function(t,e){e=e._is_field?e:new n.Field(e,"bn",t),this.type="Priv",this.d=e,this.curve=t};E.prototype.help_sign=function(t,e){var r,i,n,s,a,u;return r=this.curve.base.mul(e),r.x.is_zero()?null:(i=t.mod_mul(r.x),i=this.curve.truncate(i),i.is_zero()?null:(i=new o.BN(i.buf8(),8),s=new o.BN(this.d.buf8(),8),a=new o.BN(e.buf8(),8),u=new o.BN(this.curve.order.buf8(),8),n=s.mul(i).mod(u),n=n.add(a).mod(u),{s:new v(n.toArray(),"buf8",this.curve),r:new v(i.toArray(),"buf8",this.curve)}))},E.prototype.sign=function(t,e){var r,i,n;if(!m.isBuffer(t))throw new Error("not a buffer");if(n=new v(s.add_zero(t,!0),"buf8",this.curve),n.is_zero())throw new Error("Pass non zero value");for(;;)if(r=this.curve.rand(),i=this.help_sign(n,r),null!==i)break;return i.hash=n,void 0===e?i:M(i,e)},E.prototype.decrypt=function(t,e,r,i){e.pubkey&&(e=e.pubkey);var n=this.sharedKey(e,r.ukm,i.kdf),o=i.keyunwrap(n,r.wcek);return i.decrypt(t,o,r.iv)},E.prototype.encrypt=function(t,r,i){var n=(e.crypto,a(new m(32))),o=a(new m(64)),s=a(new m(8)),u=this.sharedKey(r.pubkey,o,i.kdf),h=i.keywrap(u,n,s),f=i.encrypt(t,n,s);return{iv:s,wcek:h,data:f,ukm:o}},E.prototype.pub_match=function(t){var e=null;if("Pub"===t.type)return t.point.equals(this.pub().point);if(t._is_field&&(e=t),m.isBuffer(t)&&(e=new v(t,"buf8",this.curve)),null===e)throw new Error("Unknow pubkey format");return e.equals(this.pub_compress())},E.prototype.pub_compress=function(){return void 0===this._pub&&(this._pub=this.pub()),void 0===this._pub_cmp&&(this._pub_cmp=this._pub.point.compress()),this._pub_cmp},E.prototype.pub=function(){return new y(this.curve,this.curve.base.mul(this.d).negate())},E.prototype.derive=function(t){var e,r,i,n;return e="Pub"===t.type?t.point:this.curve.point(t),r=e.mul(this.d.mod_mul(this.curve.kofactor)),i=new m(r.x.buf8(),"binary"),n=i.length-Math.ceil(this.curve.m/8),i.slice(n)},E.prototype.sharedKey=function(t,e,r){var i,n,o,s;return i=this.derive(t),0===i[0]&&(i=i.slice(1)),n=new m("\0\0\0"),o=g(e),s=new m(i.length+n.length+o.length),i.copy(s),n.copy(s,i.length),o.copy(s,i.length+n.length),r(s)},E.prototype.as_pem=function(){return"-----BEGIN PRIVATE KEY-----\n"+h(this.as_asn1(),{line:16,pad:!0})+"\n-----END PRIVATE KEY-----"},E.prototype.to_pem=E.prototype.as_pem,E.prototype.as_asn1=function(){var t=this.as_struct();return d.encode(t,"der")},E.prototype.to_asn1=E.prototype.as_asn1,E.prototype.as_struct=function(){var t={version:0,priv0:{id:"DSTU_4145_LE",p:{p:{type:"params",value:this.curve.as_struct()},sbox:f.DEFAULT_SBOX_COMPRESSED}},param_d:Array.prototype.slice.call(this.d.buf8()).reverse(),attr:[]};return t};var S=function(t,e){return w(u.maybe_pem(t),e)},A=function(t,e,r){var i;if(e&&(!r||!r.storeload))throw new Error("Cant decode protected file without algo");if(t=u.maybe_pem(t),e){try{i=c.enc_parse(t)}catch(t){}try{i=c.enc_parse2(t)}catch(t){}try{i=l.enc_parse(t)}catch(t){}if(!i)throw new Error("Cant parse store with either PBES2 or proprietaty format");t=r.storeload(i,e)}return E.from_asn1(t,!0)};t.exports=E,t.exports.detect_format=_,t.exports.from_asn1=w,t.exports.from_pem=S,t.exports.from_protected=A,t.exports.sign_serialise=M}).call(e,function(){return this}())},function(t,e,r){"use strict";var i=r(12),n=r(5),o=r(1).Buffer,s=i.Field,a=function(t){if(n.is_hex(t)===!0)return"hex";if(void 0!==t.buffer)return"raw";throw new Error("Unknown pubkey format")},u=function(t){return t.hasOwnProperty&&t.hasOwnProperty("s")&&t.hasOwnProperty("r")?"split":"string"==typeof t||o.isBuffer(t)?"short":void 0},h=function(t,e,r){if("short"===e){if(o.isBuffer(t)||(t=o(t)),4!==t[0]||t[1]!==t.length-2)throw Error("Broken short sign");t=t.slice(2),e="le"}if("le"===e){var i=t.length,a=t.slice(0,Math.ceil(i/2)),u=t.slice(a.length);t={s:n.add_zero(u,!0),r:n.add_zero(a,!0)},e="split"}if("split"===e)return"string"==typeof t.s&&(t.s=o(t.s)),"string"==typeof t.r&&(t.r=o(t.r)),{s:new s(t.s,"buf8",r),r:new s(t.r,"buf8",r)}},f=function(t,e,r){this.x=e.x,this.y=e.y,this.point=e,this.curve=t,this._cmp=r,this.type="Pub"};f.prototype.compress=function(){return this._cmp||(this._cmp=this.point.compress()),this._cmp},f.prototype.verify=function(t,e,r){return void 0===r&&(r=u(e)),o.isBuffer(t)&&(t=new s(n.add_zero(t,!0),"buf8",this.curve)),e=h(e,r,this.curve),this.help_verify(t,e.s,e.r)},f.prototype.help_verify=function(t,e,r){if(e.is_zero())throw new Error("Invalid sig component S");if(r.is_zero())throw new Error("Invalid sig component R");if(this.curve.order.less(e))throw new Error("Invalid sig component S");if(this.curve.order.less(r)<0)throw new Error("Invalid sig component R");var i,n,o,a;if(t=t._is_field?t:new s(t,"bn",this.curve),i=this.point.mul(r),n=this.curve.base.mul(e),o=n.add(i),o.is_zero())throw new Error("Invalid sig R point at infinity");return a=o.x.mod_mul(t),a=this.curve.truncate(a),r.equals(a)},f.prototype.validate=function(){var t,e=this.point;return!e.is_zero()&&(this.curve.contains(e)!==!1&&(t=e.mul(this.curve.order),!!t.is_zero()))},f.prototype.keyid=function(t){var e,r=new o(this.compress().buf8(),"binary"),i=r.length-Math.ceil(this.curve.m/8),n=new o(r.length+2-i);for(e=2;e<n.length;e++)n[e]=r[r.length+1-e];return n[0]=4,n[1]=r.length-i,t.hash(n)},t.exports=f,t.exports.detect_format=a,t.exports.parse_sign=h},function(t,e){(function(e){t.exports=function(t){return(e.crypto||e.msCrypto).getRandomValues(t)}}).call(e,function(){return this}())},function(t,e,r){"use strict";var i=r(2),n=r(8),o=(r(3),n.ContentEncryptionAlgorithmIdentifier),s={"1 2 840 113549 1 5 13":"PBES2","1 2 840 113549 1 5 12":"PBKDF2"},a=i.define("StorePBES2",function(){this.seq().obj(this.key("head").seq().obj(this.key("id").objid(s),this.key("pbes2").seq().obj(this.key("keyDerivationFunc").seq().obj(this.key("id").objid(s),this.key("params").seq().obj(this.key("salt").octstr(),this.key("cycles").int(),this.key("hash").use(o))),this.key("encryptionScheme").use(o))),this.key("cryptData").octstr())}),u=function(t){var e,r,i,n,o,s,u,h;if(e=a.decode(t,"der"),"PBES2"!==e.head.id)throw new Error(e.head.id);if(r=e.head.pbes2.keyDerivationFunc,"PBKDF2"!==r.id)throw new Error(e.head.p.key.id);if("Gost34311-hmac"!==r.params.hash.algorithm)throw new Error("Unknown cipher "+r.params.algorithm);if(i=e.head.pbes2.encryptionScheme,"Gost28147-cfb"!==i.algorithm)throw new Error(e.head.p.cipher.id);if(n=i.parameters.value,null===n)throw new Error("Encryption params not passed");if(o=n.iv,s=n.dke,u=r.params.salt,h=r.params.cycles,8!==o.length||64!==s.length||32!==u.length)throw new Error("IV len: "+o.length+", S-BOX len: "+s.length+", SALT len: "+u.length);return{format:"PBES2",iv:o,sbox:s,salt:u,iters:h.toNumber(),body:e.cryptData}},h=function(t){return u(t.slice(82))};t.exports=a,t.exports.enc_parse=u,t.exports.enc_parse2=h},function(t,e,r){var i=r(2),n=r(8),o=r(3),s=i.define("TimeStampReq",function(){this.seq().obj(this.key("version").int({1:"v1"}),this.key("messageImprint").use(a))}),a=i.define("MessageImprint",function(){this.seq().obj(this.key("hashAlgorithm").use(o.AlgorithmIdentifier),this.key("hashedMessage").octstr())}),u=i.define("TimeStampResp",function(){this.seq().obj(this.key("status").use(h),this.key("timeStampToken").use(n.ContentInfo))}),h=i.define("PKIStatusInfo",function(){this.seq().obj(this.key("status").int({0:"granted",1:"grantedWithMods",2:"rejection",3:"waiting",4:"revocationWarning"}),this.key("statusString").any().optional(),this.key("failInfo").any().optional())}),f=i.define("TSTInfoStr",function(){this.octstr()}),c=i.define("TSTInfoSeq",function(){this.seq().obj(this.key("version").int({1:"v1"}),this.key("policy").objid(),this.key("messageImprint").use(a),this.key("serialNumber").int(),this.key("genTime").gentime(),this.key("accuracy").seq().optional(),this.key("ordering").bool().optional().def(!1),this.key("nonce").int().optional(),this.key("tsa").use("GeneralName").optional(),this.key("extensions").any().optional())});n.ContentInfo.contentModel.tstInfo=f,t.exports={TimeStampReq:s,TimeStampResp:u,TSTInfo:c}},function(t,e){var r={a:"0",b:"01 CEF49472 0115657E 18F938D7 A7942394 FF9425C1 458C5786 1F9EEA6A DBE3BE10",base:{x:"2A29EF20 7D0E9B6C 55CD260B 306C7E00 7AC491CA 1B10C623 34A9E8DC D8D20FB7",y:"01 0686D41F F744D444 9FCCF6D8 EEA03102 E6812C93 A9D60B97 8B702CF1 56D814EF"},order:"80000000 00000000 00000000 00000000 6759213A F182E987 D3E17714 907D470D",kofactor:[4],m:257,ks:[12,0]},i={a:"1",b:"03CE 10490F6A 708FC26D FE8C3D27 C4F94E69 0134D5BF F988D8D2 8AAEAEDE 975936C6 6BAC536B 18AE2DC3 12CA4931 17DAA469 C640CAF3",base:{x:"1A62 BA79D981 33A16BBA E7ED9A8E 03C32E08 24D57AEF 72F88986 874E5AAE 49C27BED 49A2A950 58068426 C2171E99 FD3B43C5 947C857D",y:"70B5 E1E14031 C1F70BBE FE96BDDE 66F45175 4B4CA5F4 8DA241F3 31AA396B 8D1839A8 55C1769B 1EA14BA5 3308B5E2 723724E0 90E02DB9"},order:"3FFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF FFBA3175 458009A8 C0A724F0 2F81AA8A 1FCBAF80 D90C7A95 110504CF",kofactor:[4],m:431,ks:[1,3,5]};t.exports={DSTU_PB_257:r,DSTU_PB_431:i,cache:{}}},function(t,e,r){var i=(r(17).shiftRight,r(17).bstring,[13,41,121,337,897,2305]),n=function(t,e){var r,i;if(e=e.clone(),2===t)return o(e);i=Math.floor(e.bitLength()/t+1),r=new Int32Array(i);for(var n,s,a=1<<t,u=a-1,h=a>>>1,f=!1,c=0,l=0;l<=e.bitLength();)e.testBit(l)!==f?(e.shiftRightM(l),n=e.bytes[0]&u,f&&++n,f=0!==(n&h),f&&(n-=a),s=c>0?l-1:l,r[c++]=n<<16|s,l=t):++l;return r.length>c&&(r=r.subarray(0,c)),r},o=function(t){if(t.bitLength()>>>16!=0)throw new Error("'k' must have bitlength < 2^16");if(0==t.signum())return new Int32Array(0);var e,r,i=t.shiftLeft(1).add(t),n=i.bitLength(),o=new Int32Array(n>>1),s=i.xor(t),a=n-1,u=0,h=0;for(e=1;e<a;++e)s.testBit(e)?(r=t.testBit(e)?-1:1,o[u++]=r<<16|h,h=1,++e):++h;return o[u++]=65536|h,o.length>u&&(o=o.subarray(0,u)),o},s=function(t,e){var r,i=e.length;for(r=0;r<i&&!(t<e[r]);++r);return r+2},a=function(t){return s(t,i)};t.exports={getWindowSize:a,windowNaf:n,compactNaf:o}},function(t,e,r){(function(e){function i(t){for(var r=new e(2*t.length),i=0;i<t.length;i++){var n=t.charCodeAt(i);r[2*i]=(65280&n)>>8,r[2*i+1]=255&n}return r}function n(t,r){for(var n=i(r),s=t.slice(0,20),a=t.slice(20,t.length-20),u=t.slice(t.length-20),h=new e(a.length),f=0,c=s;f<a.length;){var l=o.create();l.update(n),l.update(c),c=l.digest();var p;for(p=0;p<c.length;p++)h[f]=a[f]^c[p],f++}var d=o.create();d.update(n),d.update(h);for(var y=d.digest(),m=0,p=0;p<u.length;p++)m=y[p]^u[p]||m;return 0===m?h:null}var o=r(45);t.exports=n}).call(e,r(1).Buffer)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(process,global){!function(){"use strict";function Sha1(t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(94),HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(t){return function(e){return new Sha1(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Sha1},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var r=OUTPUT_TYPES[e];t[r]=createOutputMethod(r)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("sha1").update(t,"utf8").digest("hex");if(t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(void 0===t.length)return method(t);return crypto.createHash("sha1").update(new Buffer(t)).digest("hex")};return nodeMethod};Sha1.prototype.update=function(t){if(!this.finalized){var e="string"!=typeof t;e&&t.constructor===root.ArrayBuffer&&(t=new Uint8Array(t));for(var r,i,n=0,o=t.length||0,s=this.blocks;n<o;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(i=this.start;n<o&&i<64;++n)s[i>>2]|=t[n]<<SHIFT[3&i++];else for(i=this.start;n<o&&i<64;++n)r=t.charCodeAt(n),r<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++n)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var t,e,r,i=this.h0,n=this.h1,o=this.h2,s=this.h3,a=this.h4,u=this.blocks;for(e=16;e<80;++e)r=u[e-3]^u[e-8]^u[e-14]^u[e-16],u[e]=r<<1|r>>>31;for(e=0;e<20;e+=5)t=n&o|~n&s,r=i<<5|i>>>27,a=r+t+a+1518500249+u[e]<<0,n=n<<30|n>>>2,t=i&n|~i&o,r=a<<5|a>>>27,s=r+t+s+1518500249+u[e+1]<<0,i=i<<30|i>>>2,t=a&i|~a&n,r=s<<5|s>>>27,o=r+t+o+1518500249+u[e+2]<<0,a=a<<30|a>>>2,t=s&a|~s&i,r=o<<5|o>>>27,n=r+t+n+1518500249+u[e+3]<<0,s=s<<30|s>>>2,t=o&s|~o&a,r=n<<5|n>>>27,i=r+t+i+1518500249+u[e+4]<<0,o=o<<30|o>>>2;for(;e<40;e+=5)t=n^o^s,r=i<<5|i>>>27,a=r+t+a+1859775393+u[e]<<0,n=n<<30|n>>>2,t=i^n^o,r=a<<5|a>>>27,s=r+t+s+1859775393+u[e+1]<<0,i=i<<30|i>>>2,t=a^i^n,r=s<<5|s>>>27,o=r+t+o+1859775393+u[e+2]<<0,a=a<<30|a>>>2,t=s^a^i,r=o<<5|o>>>27,n=r+t+n+1859775393+u[e+3]<<0,s=s<<30|s>>>2,t=o^s^a,r=n<<5|n>>>27,i=r+t+i+1859775393+u[e+4]<<0,o=o<<30|o>>>2;for(;e<60;e+=5)t=n&o|n&s|o&s,r=i<<5|i>>>27,a=r+t+a-1894007588+u[e]<<0,n=n<<30|n>>>2,t=i&n|i&o|n&o,r=a<<5|a>>>27,s=r+t+s-1894007588+u[e+1]<<0,i=i<<30|i>>>2,t=a&i|a&n|i&n,r=s<<5|s>>>27,o=r+t+o-1894007588+u[e+2]<<0,a=a<<30|a>>>2,t=s&a|s&i|a&i,r=o<<5|o>>>27,n=r+t+n-1894007588+u[e+3]<<0,s=s<<30|s>>>2,t=o&s|o&a|s&a,r=n<<5|n>>>27,i=r+t+i-1894007588+u[e+4]<<0,o=o<<30|o>>>2;for(;e<80;e+=5)t=n^o^s,r=i<<5|i>>>27,a=r+t+a-899497514+u[e]<<0,n=n<<30|n>>>2,t=i^n^o,r=a<<5|a>>>27,s=r+t+s-899497514+u[e+1]<<0,i=i<<30|i>>>2,t=a^i^n,r=s<<5|s>>>27,o=r+t+o-899497514+u[e+2]<<0,a=a<<30|a>>>2,t=s^a^i,r=o<<5|o>>>27,n=r+t+n-899497514+u[e+3]<<0,s=s<<30|s>>>2,t=o^s^a,r=n<<5|n>>>27,i=r+t+i-899497514+u[e+4]<<0,o=o<<30|o>>>2;this.h0=this.h0+i<<0,this.h1=this.h1+n<<0,this.h2=this.h2+o<<0,this.h3=this.h3+s<<0,this.h4=this.h4+a<<0},Sha1.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3,n=this.h4;return HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3,n=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,n>>24&255,n>>16&255,n>>8&255,255&n]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))))}()}).call(exports,__webpack_require__(92),function(){return this}())},function(t,e){function r(t,e){return{buf:t,pos:e||0}}function i(t){var e=t.buf.readUInt32BE(t.pos);return t.pos+=4,e}function n(t){var e=t.buf.readUInt16BE(t.pos);
return t.pos+=2,e}function o(t,e){var r=t.buf.slice(t.pos,t.pos+e);return t.pos+=e,r}function s(t,e){return o(t,e).toString()}function a(t){var e=s(t,n(t)),r=o(t,i(t));return{type:e,data:r}}function u(t){var e=s(t,n(t));i(t),i(t);for(var r=o(t,i(t)).slice(24),u=i(t),h=[],f=0;f<u;f++){var c=a(t);"X.509"===c.type&&h.push(c.data)}return{key:r,certs:h,name:e}}function h(t){var e=r(t),n=i(e);if(n!==f)return null;var o=i(e);if(2!==o)return null;for(var s=i(e),h=[],c=0;c<s;c++){var l=i(e);1===l&&h.push(u(e)),2===l&&h.push(a(e))}return{format:"jks",material:h}}var f=4277010157;t.exports=h},function(t,e,r){"undefined"==typeof Promise&&(r(50).enable(),window.Promise=r(49)),r(51),Object.assign=r(48)},function(t,e){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==i.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}var n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(t,e){for(var i,s,a=r(t),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var h in i)n.call(i,h)&&(a[h]=i[h]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(i);for(var f=0;f<s.length;f++)o.call(i,s[f])&&(a[s[f]]=i[s[f]])}}return a}},function(t,e,r){"use strict";function i(t){var e=new n(n._61);return e._81=1,e._65=t,e}var n=r(23);t.exports=n;var o=i(!0),s=i(!1),a=i(null),u=i(void 0),h=i(0),f=i("");n.resolve=function(t){if(t instanceof n)return t;if(null===t)return a;if(void 0===t)return u;if(t===!0)return o;if(t===!1)return s;if(0===t)return h;if(""===t)return f;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new n(e.bind(t))}catch(t){return new n(function(e,r){r(t)})}return i(t)},n.all=function(t){var e=Array.prototype.slice.call(t);return new n(function(t,r){function i(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof n&&a.then===n.prototype.then){for(;3===a._81;)a=a._65;return 1===a._81?i(s,a._65):(2===a._81&&r(a._65),void a.then(function(t){i(s,t)},r))}var u=a.then;if("function"==typeof u){var h=new n(u.bind(a));return void h.then(function(t){i(s,t)},r)}}e[s]=a,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)i(s,e[s])})},n.reject=function(t){return new n(function(e,r){r(t)})},n.race=function(t){return new n(function(e,r){t.forEach(function(t){n.resolve(t).then(e,r)})})},n.prototype.catch=function(t){return this.then(null,t)}},function(t,e,r){"use strict";function i(){h=!1,a._10=null,a._97=null}function n(t){function e(e){(t.allRejections||s(c[e].error,t.whitelist||u))&&(c[e].displayId=f++,t.onUnhandled?(c[e].logged=!0,t.onUnhandled(c[e].displayId,c[e].error)):(c[e].logged=!0,o(c[e].displayId,c[e].error)))}function r(e){c[e].logged&&(t.onHandled?t.onHandled(c[e].displayId,c[e].error):c[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+c[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+c[e].displayId+".")))}t=t||{},h&&i(),h=!0;var n=0,f=0,c={};a._10=function(t){2===t._81&&c[t._72]&&(c[t._72].logged?r(t._72):clearTimeout(c[t._72].timeout),delete c[t._72])},a._97=function(t,r){0===t._45&&(t._72=n++,c[t._72]={displayId:null,error:r,timeout:setTimeout(e.bind(null,t._72),s(r,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):");var r=(e&&(e.stack||e))+"";r.split("\n").forEach(function(t){console.warn("  "+t)})}function s(t,e){return e.some(function(e){return t instanceof e})}var a=r(23),u=[ReferenceError,TypeError,RangeError],h=!1;e.disable=i,e.enable=n},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y.iterable&&(e[Symbol.iterator]=function(){return e}),e}function n(t){this.map={},t instanceof n?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(y.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}function c(t,e){e=e||{};var r=e.body;if(c.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new n(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new n(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function l(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}}),e}function p(t){var e=new n,r=(t.getAllResponseHeaders()||"").trim().split("\n");return r.forEach(function(t){var r=t.trim().split(":"),i=r.shift().trim(),n=r.join(":").trim();e.append(i,n)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof n?e.headers:new n(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var y={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};n.prototype.append=function(t,i){t=e(t),i=r(i);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(i)},n.prototype.delete=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(t,i){this.map[e(t)]=[r(i)]},n.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(i){t.call(e,i,r,this)},this)},this)},n.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),i(t)},n.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},n.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),i(t)},y.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},h.call(c.prototype),h.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];d.redirect=function(t,e){if(v.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=n,t.Request=c,t.Response=d,t.fetch=function(t,e){return new Promise(function(r,i){function n(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=c.prototype.isPrototypeOf(t)&&!e?t:new c(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:p(s),url:n()},e="response"in s?s.response:s.responseText;r(new d(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&y.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){(function(e){"use strict";function r(t){a.length||(s(),u=!0),a[a.length]=t}function i(){for(;h<a.length;){var t=h;if(h+=1,a[t].call(),h>f){for(var e=0,r=a.length-h;e<r;e++)a[e]=a[e+h];a.length-=h,h=0}}a.length=0,h=0,u=!1}function n(t){var e=1,r=new l(t),i=document.createTextNode("");return r.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}function o(t){return function(){function e(){clearTimeout(r),clearInterval(i),t()}var r=setTimeout(e,0),i=setInterval(e,50)}}t.exports=r;var s,a=[],u=!1,h=0,f=1024,c="undefined"!=typeof e?e:self,l=c.MutationObserver||c.WebKitMutationObserver;s="function"==typeof l?n(i):o(i),r.requestFlush=s,r.makeRequestCallFromTimer=o}).call(e,function(){return this}())},function(t,e,r){function i(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}var n=r(2),o=r(4),s=e;s.define=function(t,e){return new i(t,e)},i.prototype._createNamed=function(t){var e;try{e=r(93).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return o(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},i.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},i.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},i.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},i.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){function i(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var n=r(6).Reporter,o=r(6).EncoderBuffer,s=r(6).DecoderBuffer,a=r(90),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),f=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];t.exports=i;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];i.prototype.clone=function(){var t=this._baseState,e={};c.forEach(function(r){e[r]=t[r]});var r=new this.constructor(e.parent);return r._baseState=e,r},i.prototype._wrap=function(){var t=this._baseState;h.forEach(function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},i.prototype._init=function(t){var e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),a.equal(e.children.length,1,"Root node can have only one child")},i.prototype._useArgs=function(t){var e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(a(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);var i=t[r];e[i]=r}),e}))},f.forEach(function(t){i.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),u.forEach(function(t){i.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(r),this}}),i.prototype.use=function(t){a(t);var e=this._baseState;return a(null===e.use),e.use=t,this},i.prototype.optional=function(){var t=this._baseState;return t.optional=!0,this},i.prototype.def=function(t){var e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},i.prototype.explicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},i.prototype.implicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},i.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},i.prototype.key=function(t){var e=this._baseState;return a(null===e.key),e.key=t,this},i.prototype.any=function(){var t=this._baseState;return t.any=!0,this},i.prototype.choice=function(t){var e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},i.prototype.contains=function(t){var e=this._baseState;return a(null===e.use),e.contains=t,this},i.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));var i=r.default,n=!0,o=null;if(null!==r.key&&(o=t.enterKey(r.key)),r.optional){var a=null;if(null!==r.explicit?a=r.explicit:null!==r.implicit?a=r.implicit:null!==r.tag&&(a=r.tag),null!==a||r.any){if(n=this._peekTag(t,a,r.any),t.isError(n))return n}else{var u=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),n=!0}catch(t){n=!1}t.restore(u)}}var h;if(r.obj&&n&&(h=t.enterObject()),n){if(null!==r.explicit){var f=this._decodeTag(t,r.explicit);if(t.isError(f))return f;t=f}var c=t.offset;if(null===r.use&&null===r.choice){if(r.any)var u=t.save();var l=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(l))return l;r.any?i=t.raw(u):t=l}if(e&&e.track&&null!==r.tag&&e.track(t.path(),c,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var p=new s(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(p,e)}}return r.obj&&n&&(i=t.leaveObject(h)),null===r.key||null===i&&n!==!0?null!==o&&t.exitKey(o):t.leaveKey(o,r.key,i),i},i.prototype._decodeGeneric=function(t,e,r){var i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},i.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},i.prototype._decodeChoice=function(t,e){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(o){var s=t.save(),a=r.choice[o];try{var u=a._decode(t,e);if(t.isError(u))return!1;i={type:o,value:u},n=!0}catch(e){return t.restore(s),!1}return!0},this),n?i:t.error("Choice not matched")},i.prototype._createEncoderBuffer=function(t){return new o(t,this.reporter)},i.prototype._encode=function(t,e,r){var i=this._baseState;if(null===i.default||i.default!==t){var n=this._encodeValue(t,e,r);if(void 0!==n&&!this._skipDefault(n,e,r))return n}},i.prototype._encodeValue=function(t,e,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");var i=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var n=r._encode(t[r._baseState.key],e,t);return e.leaveKey(i),n},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){var i=this._baseState;return this._getUse(i.args[0],t)._encode(r,e)},u))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);var o;if(!i.any&&null===i.choice){var h=null!==i.implicit?i.implicit:i.tag,f=null===i.implicit?"universal":"context";null===h?null===i.use&&e.error("Tag could be ommited only for .use()"):null===i.use&&(o=this._encodeComposite(h,a,f,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},i.prototype._encodeChoice=function(t,e){var r=this._baseState,i=r.choice[t.type];return i||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(t.value,e)},i.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},i.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},i.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,r){function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function n(t,e){this.path=t,this.rethrow(e)}var o=r(4);e.Reporter=i,i.prototype.isError=function(t){return t instanceof n},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){var i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){var e,r=this._reporterState,i=t instanceof n;if(e=i?t:new n(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return i||r.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},o(n,Error),n.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){var i=r(25);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=i._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=i._reverse(e.tag)},function(t,e,r){var i=e;i.der=r(26),i.pem=r(58)},function(t,e,r){function i(t){s.call(this,t),this.enc="pem"}var n=r(4),o=r(1).Buffer,s=r(26);n(i,s),t.exports=i,i.prototype.decode=function(t,e){for(var r=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),n=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,h=0;h<r.length;h++){var f=r[h].match(n);if(null!==f&&f[2]===i){if(a!==-1){if("END"!==f[1])break;u=h;break}if("BEGIN"!==f[1])break;a=h}}if(a===-1||u===-1)throw new Error("PEM section not found for: "+i);var c=r.slice(a+1,u).join("");c.replace(/[^a-z0-9\+\/=]+/gi,"");var l=new o(c,"base64");return s.prototype.decode.call(this,l,e)}},function(t,e,r){var i=e;i.der=r(27),i.pem=r(60)},function(t,e,r){function i(t){o.call(this,t),this.enc="pem"}var n=r(4),o=r(27);n(i,o),t.exports=i,i.prototype.encode=function(t,e){for(var r=o.prototype.encode.call(this,t),i=r.toString("base64"),n=["-----BEGIN "+e.label+"-----"],s=0;s<i.length;s+=64)n.push(i.slice(s,s+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.filter(function(t){return"Priv"===t.type&&!t.match}),r=f(e,2),i=r[0],n=r[1];return i?(0,k.default)([i,n]):Promise.reject()}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),f=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=r(10);r(75);var l=r(62),p=i(l),d=r(63),y=i(d),m=r(64),v=i(m),g=r(67),_=r(30),b=i(_),w=r(65),k=i(w),M={file:null,material:[]},E=new Proxy({title:"Signerbox2"},M),S=function(t){function e(t){o(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return M.set=function(t,e,i){return t[e]=i,r.forceUpdate(),!0},r}return a(e,t),h(e,[{key:"handleAdd",value:function(t){E.material=(0,g.makeMatches)(t),u(E.material).then(function(t){t&&(E.material=(0,g.makeMatches)([].concat(n(E.material),n(t))))}).catch(function(){return null})}},{key:"handleFile",value:function(t){E.file=t}},{key:"handleSign",value:function(t){t(E.file.contents).then(function(t){return(0,b.default)(t,E.file.name+".p7s")})}},{key:"render",value:function(){return(0,c.h)("div",{className:"App"},E.title,E.file?(0,c.h)("p",null,'Signing file "',E.file.name,'"'):(0,c.h)(p.default,{onAdd:this.handleFile}),E.file&&(0,c.h)(y.default,{material:E.material,onAdd:this.handleAdd,onSign:this.handleSign}),(0,c.h)(v.default,{value:E.material}))}}]),e}(c.Component);e.default=S},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),u=r(10),h=r(28),f=function(t){function e(t){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleFile=r.handleFile.bind(r),r}return o(e,t),a(e,[{key:"handleFile",value:function(t){var e=s(t.target.files,1),r=e[0];return r?(0,h.readFile)(r).then(this.props.onAdd):null}},{key:"render",value:function(){return(0,u.h)("form",null,"Select file to sign:",(0,u.h)("input",{type:"file",name:"fileselect",value:"",onChange:this.handleFile}))}}]),e}(u.Component);e.default=f},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),f=r(10),c=r(70),l=i(c),p=r(68),d=i(p),y=r(11),m=r(72),v=function(t){function e(t){o(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={password:"",error:null,keyIdx:0},r.handleFile=r.handleFile.bind(r),r.handlePassword=r.handlePassword.bind(r),r.handleOpen=r.handleOpen.bind(r),r.handleSelectKey=r.handleSelectKey.bind(r),r.handleSign=r.handleSign.bind(r),r}return a(e,t),h(e,[{key:"handleFile",value:function(t){var e=this;(0,l.default)(t.target.files).then(function(t){e.props.onAdd(t)})}},{key:"handleOpen",value:function(t){var e=this;t.preventDefault();var r=this.state,i=r.password,o=r.keyIdx,s=this.props.material,a=(s||[]).filter(y.isKey)[o||0],u=(0,d.default)(a,i);u?(this.setState({error:null,password:""}),(0,l.default)([Object.assign({name:"dat"},a,{contents:u})]).then(function(t){e.props.onAdd([].concat(n(s),n(t)))})):this.setState({error:"EPASSWORD"})}},{key:"handleSelectKey",value:function(t){this.setState({keyIdx:Number(t.target.value)})}},{key:"handlePassword",value:function(t){this.setState({password:t.target.value})}},{key:"handleSign",value:function(t){t.preventDefault();var e=this.props.material,r=(e||[]).filter(function(t){return(0,y.isOpen)(t)&&(0,y.isSigning)(t.match)}),i=u(r,1),n=i[0];this.props.onSign(m.sign.bind(null,n,n.match))}},{key:"render",value:function(){var t=this.state,e=t.password,r=t.error,i=this.props.material,n=(i||[]).filter(y.isKey),o=(i||[]).filter(function(t){return(0,y.isOpen)(t)&&(0,y.isSigning)(t.match)}),s=u(o,1),a=s[0];return o.length>1?(0,f.h)("div",null,"Signing keys found: ",o.length):1===o.length?(0,f.h)("div",null,(0,f.h)("button",{onClick:this.handleSign},"Sign as ",a.match.subject.title," ",a.match.subject.commonName)):(0,f.h)("div",null,!n.length&&(0,f.h)("div",null,"Select private key:",(0,f.h)("input",{type:"file",
multiple:!0,name:"keyselect",value:"",onChange:this.handleFile})),n.length>0&&(0,f.h)("form",{onSubmit:this.handleOpen},n.length>1&&(0,f.h)("select",{onChange:this.handleSelectKey},n.map(function(t,e){return(0,f.h)("option",{value:e,key:e},t.match&&t.match.subject?(t.match.subject.title||"")+" "+(t.match.subject.commonName||""):t.name||e)})),"Password:",(0,f.h)("input",{type:"password",name:"password",value:e,onChange:this.handlePassword,autoFocus:!0}),r),(0,f.h)("div",null,"Found keys: ",n.length))}}]),e}(f.Component);e.default=v},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),u=r(10),h=r(11),f=r(30),c=i(f),l=function(t){function e(t){n(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.handleSave=r.handleSave.bind(r),r}return s(e,t),a(e,[{key:"handleSave",value:function(t){t.preventDefault();var e=this.props.file;(0,c.default)(e._raw||e.to_asn1(),e.name||(e.type||e.format)+".dat")}},{key:"render",value:function(){var t=this.props,e=t.file,r=t.children;return e.to_asn1||e._raw?(0,u.h)("span",null,r," (",(0,u.h)("a",{href:"",onClick:this.handleSave},"save file"),")"):r}}]),e}(u.Component),p=function(t){function e(){return n(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props,r=t.type,i=t.format,n=t.subject,o=t.extension,s=t.name,a=t.match;return n?(0,u.h)("span",null,i," ",n.title," ",n.commonName," ",(0,h.canSign)(o.keyUsage)&&"SIGN"," ",(0,h.canEnc)(o.keyUsage)&&"ENC"," ",(0,h.isCA)(o.keyUsage)&&"CA"):"jks-key"===i&&a?(0,u.h)("span",null,"Encrypted Key ",s," for ",(0,u.h)(e,a)):"IIT"===i||"jks-key"===i?(0,u.h)("span",null,"Encrypted Key ",s):i?(0,u.h)("span",null,i," ?"):"Priv"===r&&a?(0,u.h)("span",null,"Private key for ",(0,u.h)(e,a)):"Priv"===r?(0,u.h)("span",null,"Private key without match"):null}}]),e}(u.Component),d=function(t){function e(){return n(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"render",value:function(){var t=this.props.value;return t?(0,u.h)("div",null,"Key Material and Certificates",(0,u.h)("ul",null,t.map(function(t,e){return(0,u.h)("li",{key:e},(0,u.h)(l,{file:t},(0,u.h)(p,t)))}))):null}}]),e}(u.Component);e.default=d},function(t,e,r){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(e){var r=f.default.compat.algos(),i=e.map(function(t){return t&&t.pub().keyid(r)}),n=new t(120);n.fill(0),i[0].copy(n,12),(i[1]||i[0]).copy(n,44),n[108]=1,n[112]=1,n[8]=2,n[0]=13;var o=new u.models.Message({type:"data",data:n});return o.as_asn1()}function o(t){var e=void 0;try{e=new u.models.Message(t)}catch(t){return null}if(!e.info)return null;var r=e.info.readInt32LE(4);return 1!==r?null:(e=new u.models.Message(e.info.slice(8)),e.info.certificate.map(function(t){return new u.models.Certificate(t,!0)}))}function s(t,e){return(0,l.default)("https://muromec.org.ua/api/certfetch?from="+e,t)}function a(t){var e=n(t);return(0,d.default)(y.map(function(t){return s(e,t).then(o).then(function(t){return t||Promise.reject()})}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=r(13),h=r(15),f=i(h),c=r(29),l=i(c),p=r(69),d=i(p),y=["masterkey.ua/services/cmp/","ca.informjust.ua/services/cmp/"]}).call(e,r(1).Buffer)},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=r(10);r(76);var o=r(61),s=i(o),a=r(71),u=i(a);(0,n.render)((0,n.h)(s.default,null),document.getElementById("root")),(0,u.default)()},function(t,e,r){"use strict";function i(t,e){return"jks-key"===t.format&&t.match?t.match:"Priv"!==t.type?null:e.reduce(function(e,r){return e?e:"x509"!==r.format?e:(0,o.isCA)(r.extension.keyUsage)||!r.extension.ipn?e:(r.pubkey_unpack&&r.pubkey_unpack(),t.pub_match(r.pubkey)?r:e)},null)}function n(t){return t.map(function(e){return e.match=i(e,t),e})}Object.defineProperty(e,"__esModule",{value:!0}),e.makeMatches=void 0;var o=r(11);e.makeMatches=n},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if("jks-key"===t.format)return(0,a.decode)(t.contents,e);if("IIT"===t.format||"PBES2"===t.format){var r=s.default.compat.algos();return r.storeload(t,e)}return null}Object.defineProperty(e,"__esModule",{value:!0});var o=r(15),s=i(o),a=r(22);e.default=n},function(t,e){"use strict";function r(t){return new Promise(function(e,r){return t.then(r,e)})}function i(t){return r(Promise.all(t.map(r)))}t.exports=i},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t){return t.filter(l.isSigning)[0]||null}function s(t){return t.reduce(function(t,e){if(!e)return t;if(e.key&&e.certs){var r=e.certs.map(function(t){return f.default.guess_parse(t)});t=[].concat(n(t),n(r),[{format:"jks-key",contents:e.key,name:e.name,match:o(r)}])}return t},[])}function a(t){return t.reduce(function(t,e){return e?e.material?[].concat(n(t),n(s(e.material))):"IIT"===e.format||"x509"===e.format?[].concat(n(t),[e]):"privkeys"===e.format?[].concat(n(t),n(e.keys)):t:t},[])}function u(t){return Promise.all(Array.prototype.map.call(t,function(t){return(0,p.readFile)(t).then(function(t){return(0,l.isJks)(t)?Object.assign({},t,(0,c.parse)(t.contents)):f.default.guess_parse(t.contents)}).catch(function(t){return console.error(t)})})).then(a)}Object.defineProperty(e,"__esModule",{value:!0});var h=r(13),f=i(h),c=r(22),l=r(11),p=r(28);e.default=u},function(t,e,r){"use strict";function i(){if("serviceWorker"in navigator){var t=new URL("/signerbox2",window.location);if(t.origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/signerbox2/service-worker.js";a?o(t):n(t)})}}function n(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||e.headers.get("content-type").indexOf("javascript")===-1?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):n(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}function s(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,e.unregister=s;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e,r,i,n){var o=new a.default.models.Message({type:"signedData",cert:e.contents?a.default.models.Certificate.from_asn1(e.contents):e,data:r,dataHash:i,tspB:n,signer:t,hash:l.hash});return o.as_asn1()}function o(t,e,r){var i=l.hash(r);return(0,c.default)(e,i).catch(function(){return null}).then(function(o){return n(t,e,r,i,o)})}Object.defineProperty(e,"__esModule",{value:!0}),e.sign=void 0;var s=r(13),a=i(s),u=r(15),h=i(u),f=r(73),c=i(f),l=h.default.compat.algos();e.sign=o},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=a.default.TimeStampResp.decode(t,"der");return"granted"!==e.status.status?void console.log("oops"):(e=a.default.TSTInfo.decode(e.timeStampToken.content.contentInfo.content),console.log("resp body",e),t.slice(9))}function o(t,e){var r=a.default.TimeStampReq.encode({version:1,messageImprint:{hashAlgorithm:{algorithm:"Gost34311"},hashedMessage:e}},"der");return(0,h.default)("https://muromec.org.ua/api/certfetch?from="+t.extension.tsp,r).then(n)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(41),a=i(s),u=r(29),h=i(u);e.default=o},function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function n(t){var e,i,n,o,s,a=t.length;o=r(t),s=new f(3*a/4-o),i=o>0?a-4:a;var u=0;for(e=0;e<i;e+=4)n=h[t.charCodeAt(e)]<<18|h[t.charCodeAt(e+1)]<<12|h[t.charCodeAt(e+2)]<<6|h[t.charCodeAt(e+3)],s[u++]=n>>16&255,s[u++]=n>>8&255,s[u++]=255&n;return 2===o?(n=h[t.charCodeAt(e)]<<2|h[t.charCodeAt(e+1)]>>4,s[u++]=255&n):1===o&&(n=h[t.charCodeAt(e)]<<10|h[t.charCodeAt(e+1)]<<4|h[t.charCodeAt(e+2)]>>2,s[u++]=n>>8&255,s[u++]=255&n),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],n.push(o(i));return n.join("")}function a(t){for(var e,r=t.length,i=r%3,n="",o=[],a=16383,h=0,f=r-i;h<f;h+=a)o.push(s(t,h,h+a>f?f:h+a));return 1===i?(e=t[r-1],n+=u[e>>2],n+=u[e<<4&63],n+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],n+=u[e>>10],n+=u[e>>4&63],n+=u[e<<2&63],n+="="),o.push(n),o.join("")}e.byteLength=i,e.toByteArray=n,e.fromByteArray=a;for(var u=[],h=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,p=c.length;l<p;++l)u[l]=c[l],h[c.charCodeAt(l)]=l;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,e){},75,function(t,e,r){"use strict";var i=r(1).Buffer,n=r(33),o=r(34),s=r(7),a=r(16),u=function(t,e){if("IIT"===t.format)return o.dumb_kdf(e,1e4);if("PBES2"===t.format)return o.pbkdf(e,t.salt,t.iters);throw new Error("Failed to convert key")},h=function(t,e){var r,n,o,a=s.init();return r=u(t,e,!0),a.key(r),"IIT"===t.format?(n=new i.concat([t.body,t.pad]),o=new i(n.length),a.decrypt(n,o),o.slice(0,t.body.length)):"PBES2"===t.format?(n=t.body,o=new i(n.length),a.decrypt_cfb(t.iv,n,o),o):void 0},f=function(t){return a.gosthash(t)},c=function(t,e){return n.unwrap(e,t)},l=function(t,e,r){return n.wrap(e,t,r)},p=function(t){return f(t)},d=function(t,e,r,i){var n=s.init();return n.key(r),t?n.decrypt_cfb(i,e):n.crypt_cfb(i,e)},y=function(t,e,r){return d(1,t,e,r)},m=function(t,e,r){return d(0,t,e,r)};t.exports.decode_data=h,t.exports.convert_password=u,t.exports.compute_hash=f,t.exports.gost_kdf=p,t.exports.gost_unwrap=c,t.exports.gost_keywrap=l,t.exports.gost_decrypt_cfb=y,t.exports.gost_encrypt_cfb=m,t.exports.algos=function(){return{kdf:p,keywrap:l,keyunwrap:c,encrypt:m,decrypt:y,hash:f,storeload:h}}},function(t,e,r){(function(e){"use strict";var i=r(1).Buffer,n=r(7),o=function(t){var r=n.init(),o=new e.Uint8Array([0,0,0,0,0,0,0,0]),s=new e.Uint8Array(8),a=new e.Uint8Array(8);r.key(t);var u=function(){var t,e=0,r=8;for(t=0;t<r&&(o[t]++,!(o[t]>0));t++)e=t-1;for(t=0;t<e;t++)o[t]=0},h=function(){var t,e;for(r.crypt64(o,s),t=0;t<8;t++)s[t]^=o[t];for(r.crypt64(s,a),e=new i(a),t=0;t<8;t++)a[t]^=s[t];return r.crypt64(a,o),u(o),e},f=function(){var t,e,r,n=new i(8);for(t=0;t<8;t++)for(e=0;e<8;e++)r=h(),n[t]|=(1&r[0])<<e;return n};return{next:function(t){for(var e,r=0,n=new i(t);t>r;)e=f(),e.copy(n,r),r+=e.length;return n}}};o.seed=function(t){return new o(t)},t.exports=o}).call(e,function(){return this}())},function(t,e){e.read=function(t,e,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,h=u>>1,f=-7,c=r?n-1:0,l=r?-1:1,p=t[e+c];for(c+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=i;f>0;s=256*s+t[e+c],c+=l,f-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,i),o-=h}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var s,a,u,h=8*o-n-1,f=(1<<h)-1,c=f>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+c>=1?l/u:l*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(e*u-1)*Math.pow(2,n),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,n),s=0));n>=8;t[r+p]=255&a,p+=d,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;t[r+p]=255&s,p+=d,s/=256,h-=8);t[r+p-d]|=128*y}},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var i=r(37),n=r(36),o=r(18),s=r(21),a=(r(14),r(91)),u=function(t,e,r){if(r.priv&&"Priv"===r.priv.type||r.cert&&"x509"===r.cert.format)return t({priv:r.priv}),void t({cert:r.cert});if(r.privPem||r.certPem)return t({priv:void 0!==r.privPem?i.from_pem(r.privPem):void 0}),void t({cert:void 0!==r.certPem?o.from_pem(r.certPem):void 0});{if("string"!=typeof r.privPath)throw new Error("Cant load key from "+r);var n,s=a.readFileSync(r.privPath);try{n=i.from_protected(s,r.password,e)}catch(t){throw new Error("Cant load key from store")}var u;u="string"==typeof r.certPath?[r.certPath]:r.certPath||[];var h,f=u.map(function(t){var e=a.readFileSync(t);return o.from_pem(e)});for(h=0;h<f.length;h++)t({cert:f[h]});for(h=0;h<n.keys.length;h++)t({priv:n.keys[h]})}},h=function(t){t=t||{},this.pubIdx={},t.keys&&t.keys.map(u.bind(null,this.add.bind(this),t.algo)),this._keys(),this.algo=t.algo||{}};h.prototype._keys=function(){var t={};this.keys=Object.keys(this.pubIdx).map(function(e){var r=this.pubIdx[e];if(!r.cert)return r;var i=r.cert.rdnSerial();return t[i]=r.cert,r}.bind(this)),this.certs=t},h.prototype.lookupCert=function(t,e){var r,i=o.formatRDN(e.serialNumber,e.issuer.value);for(r=0;r<t.length;r++)if(void 0!==t[r]&&t[r].rdnSerial()===i)return t[r];return e.issuer&&"rdn"===e.issuer.type&&e.serialNumber&&(i=o.formatRDN(e.serialNumber,e.issuer.value),this.certs[i])?this.certs[i]:t[0]},h.prototype.add=function(t){var e;if(t.priv)e=t.priv.pub();else{if(!t.cert)return;e=t.cert.pubkey}var r,i=e.point.toString();void 0===this.pubIdx[i]?(r={},this.pubIdx[i]=r):r=this.pubIdx[i],r.priv=r.priv||t.priv,r.cert=r.cert||t.cert},h.prototype.load=function(t,e){u(this.add.bind(this),e,t),this._keys()},h.prototype.sign=function(t,e){var r=this.keyFor("sign",e),i=new n({type:"signedData",cert:r.cert,data:t,signer:r.priv,hash:this.algo.hash});return i},h.prototype.encrypt=function(t,e,r){if(void 0===r)throw new Error("No recipient specified for encryption");var i=this.keyFor("encrypt",e),o=new n({type:"envelopedData",cert:i.cert,toCert:r,data:t,crypter:i.priv,algo:this.algo});return o},h.prototype.keyFor=function(t,e){if("sign"===t)return this.keys[0];if("encrypt"===t)return this.keys[1]||this.keys[0];throw new Error("unknown error for "+t)},h.prototype.pipe=function(t,e,r){var i,n,s,a;for(i=0;i<e.length;i++){if(n=e[i],"string"==typeof n&&(n={op:n}),void 0===n.op)throw new Error("Broken pipeline element",n);a=n.forCert,"string"==typeof a&&(a=o.from_pem(a)),s=this[n.op](t,n.role,a),t=s.as_transport(r,n.addCert)}return t},h.prototype.unwrap=function(t,e){for(var r,i,a,u,h,f={pipe:[]},c=[];t&&t.length;){try{a=s.decode(t)}catch(t){a=null}if(a){for(a.header&&f.pipe.push({transport:!0,headers:a.header}),r=a.docs.shift();"CERTCRYPT"===r.type;)c.push(o.from_asn1(r.contents)),r=a.docs.shift();if("_CRYPT"!==r.type.substr(3)&&"_SIGN"!==r.type.substr(3)||(t=r.contents),"QLB"===r.type.substr(0,3)&&a.docs.length>0&&(e=a.docs.shift().contents),"DOCUMENT"===r.type&&"PACKED_XML_DOCUMENT"===r.encoding){t=r.contents;continue}}try{r=new n(t)}catch(t){if(null===a)break;throw t}if("signedData"===r.type){if(void 0===r.info.contentInfo.content){if(void 0===e){f.pipe.push({error:"ENODATA"});break}r.info.contentInfo.content=e}if(u=r.verify(this.algo.hash),u!==!0){f.pipe.push({broken_sign:!0,error:"ESIGN"});break}i=r.signer(),t=r.info.contentInfo.content,f.pipe.push({signed:u,cert:{subject:i.subject,issuer:i.issuer,extension:i.extension,valid:i.valid},signingTime:r.pattrs.signingTime})}if("envelopedData"===r.type){if(h=this.keyFor("encrypt"),void 0===h||void 0===h.priv){f.pipe.push({enc:!0,error:"ENOKEY"});break}f.pipe.push({enc:!0});try{t=r.decrypt(h.priv,this.algo,this.lookupCert.bind(this,c))}catch(t){if(t instanceof n.ENOCERT){f.pipe.push({enc:!0,error:"ENOCERT"});break}throw t}}}return f.content=t,f.pipe.length&&f.pipe[f.pipe.length-1].error&&(f.error=f.pipe[f.pipe.length-1].error),f},t.exports=h},function(t,e,r){"use strict";var i=(r(2),r(1).Buffer),n=r(40),o=r(20),s=r(19),a=r(14),u=(r(5),function(){console.warn("Keycoder instances are deprecated. Use jk.guess_parse() to parse keys")}),h=function(t,e){var r,i;return void 0===e&&(e="PRIVATE KEY"),r="-----BEGIN "+e+"-----",i="-----END "+e+"-----",[r,t,i].join("\n")},f=function(t){return 48===t[0]&&128===(128&t[1])},c=function(t){return s.Priv.from_asn1(t,!0)},l=function(t){return s.Certificate.from_asn1(t)},p=[o.enc_parse,n.enc_parse,n.enc_parse2,c,l],d=function(t){var e;for(i.isBuffer(t)||(t=new i(t,"binary")),t=a.maybe_pem(t),e=0;e<p.length;e++)try{return p[e](t)}catch(t){}throw new Error("Unknown format")};u.prototype.to_pem=h,u.prototype.is_valid=f,u.prototype.is_pem=a.is_pem,u.prototype.maybe_pem=a.maybe_pem,u.prototype.parse=d,t.exports=u,t.exports.guess_parse=d},function(t,e,r){var i=r(2),n=r(3),o=i.define("OtherName",function(){this.seq().obj(this.key("type-id").objid(),this.key("value").any())}),s=o,a=i.define("IA5String",function(){this.ia5str()}),u=i.define("ORAddress",function(){this.any()}),h=i.define("EDIPartyName",function(){this.seq().obj(this.key("nameAssigner").implicit(0).optional().octstr(),this.key("partyName").implicit(1).octstr())}),f=i.define("KeyIdentifier",function(){this.octstr()}),c=i.define("PKIFreeText",function(){this.octstr()}),l=i.define("InfoTypeAndValue",function(){this.seq().obj(this.key("infoType").objid(),this.key("infoValue").optional().any())}),p=i.define("GeneralName",function(){this.choice({otherName:this.explicit(0).use(s),rfc822Name:this.explicit(1).use(a),dNSName:this.explicit(2).use(a),x400Address:this.explicit(3).use(u),directoryName:this.explicit(4).use(n.Name),ediPartyName:this.explicit(5).use(h),uniformResourceIdentifier:this.explicit(6).use(a),iPAddress:this.explicit(7).octstr(),registeredID:this.explicit(8).objid()})});t.exports.GeneralName=p;var d=i.define("PKIHeader",function(){this.seq().obj(this.key("pvno").int().def(2),this.key("sender").use(p),this.key("recipient").use(p),this.key("messageTime").optional().implicit(0).gentime(),this.key("protectionAlg").optional().implicit(1).use(n.AlgorithmIdentifier),this.key("senderKID").optional().implicit(2).use(f),this.key("recipKID").optional().implicit(3).use(f),this.key("transactionID").optional().implicit(4).octstr(),this.key("senderNonce").optional().implicit(5).octstr(),this.key("recipNonce").optional().implicit(6).octstr(),this.key("freeText").optional().implicit(7).use(c),this.key("generalInfo").optional().implicit(8).seqof(l))}),y=i.define("OptionalValidity",function(){this.seq().obj(this.key("notBefore").implicit(0).optional().use(n.Time),this.key("notAfter").implicit(1).optional().use(n.Time))}),m=i.define("CertTemplate",function(){this.seq().obj(this.key("version").optional().implicit(0).use(n.Version),this.key("serialNumber").optional().implicit(1).use(n.CertificateSerialNumber),this.key("signingAlg").optional().implicit(2).use(n.AlgorithmIdentifier),this.key("issuer").optional().implicit(3).use(n.Name),this.key("validity").optional().implicit(4).use(y),this.key("subject").optional().implicit(5).use(n.Name),this.key("publicKey").optional().implicit(6).use(n.SubjectPublicKeyInfo),this.key("issuerUID").optional().implicit(7).use(n.UniqueIdentifier),this.key("subjectUID").optional().implicit(8).use(n.UniqueIdentifier),this.key("extensions").optional().implicit(8).use(n.Extensions))}),v=i.define("ProofOfPossession",function(){this.choice({raVerified:this.implicit(0).null_()})}),g=i.define("CertRequest",function(){this.seq().obj(this.key("certReqId").int(),this.key("certTemplate").use(m),this.key("controls").optional().any())}),_=i.define("CertReqMsg",function(){this.seq().obj(this.key("certReq").use(g),this.key("popo").optional().use(v))}),b=i.define("CertReqMessages",function(){this.seqof(_)}),w=i.define("PKIStatus",function(){this.int()}),k=i.define("PKIStatusInfo",function(){this.seq().obj(this.key("status").use(w),this.key("statusString").use(c).optional(),this.key("failInfo").optional().any())}),M=i.define("CertResponse",function(){this.seq().obj(this.key("certReqId").integer(),this.key("status").use(k))}),E=i.define("CertReqMessage",function(){this.seq().obj(this.key("caPubs").implicit(0).seqof(n.Certificate).optional(),this.key("response").seqof(M))}),S=i.define("PKIBody",function(){this.choice({ir:this.implicit(0).optional().use(b),ip:this.implicit(1).optional().use(E)})}),A=i.define("CMPCertificate",function(){this.use(n.Certificate)}),x=i.define("PKIProtection",function(){this.bitstr()}),B=i.define("PKIMessage",function(){this.seq().obj(this.key("header").use(d),this.key("body").use(S),this.key("protection").optional().implicit(0).use(x),this.key("extraCerts").optional().implicit(1).seqof(A))});t.exports.PKIMessage=B},function(t,e,r){var i=r(2),n=r(84),o=r(3),s=i.define("GeneralNames",function(){this.seqof(n.GeneralName)}),a=i.define("IssuerSerial",function(){this.seq().obj(this.key("issuer").use(s),this.key("serialNumber").use(o.CertificateSerialNumber))});t.exports.IssuerSerial=a;var u=i.define("ESSCertIDv2",function(){this.seq().obj(this.key("hashAlgorithm").use(o.AlgorithmIdentifier),this.key("certHash").octstr(),this.key("issuerSerial").use(a))});t.exports.ESSCertIDv2=u;var h=i.define("SigningCertificateV2",function(){this.seq().obj(this.key("certs").seqof(u),this.key("policies").optional().any())});h.wrap=function(t,e){var r={hashAlgorithm:{algorithm:"Gost34311"},certHash:e,issuerSerial:{issuer:[{type:"directoryName",value:t.tbsCertificate.issuer}],serialNumber:t.tbsCertificate.serialNumber}},i={certs:[r]};return h.encode(i,"der")},t.exports.SigningCertificateV2=h},function(t,e,r){"use strict";function i(t,e){var r=[49,50,51,52,53,54,55,56,57,48],i={newFormat:!1,nVer:-1,bRand:0};if(e<77)return i;for(var n=0;n<10;n++)if((t[e-13+n]^t[e-23+n])!==r[n])return i;return i.newFormat=!0,i.bRand=t[e-3],i.nVer=t[e-2]^t[e-25],i}function n(t){var e,r,n;if(e=t.length,"PACKED_XML"!==t.slice(0,10).toString())throw Error("This is not PACKED_XML");if(r=t.readUInt32LE(11),n=i(t.slice(15),e-15),n.newFormat){if(1!==n.nVer)throw Error("Unsupported PACKED_XML version: "+n.nVer);for(var o=e-28>1024?512:(e-28)/2,s=0;s<o;s++)t[15+s]^=t[15+e-28-o+s]^n.bRand}else{o=e-15>160?160:e-15;for(var s=0;s<o;s++)t[15+s]^=xorStr[s%16]}return t.slice(16)}function o(t){var e,r,i,n;i=new h.inStream(t);var e=new a.Decoder;if(!e.setDecoderProperties(i))throw Error("Incorrect LZMA stream properties");if(r=i.readUInt32LE(),n=new h.outStream(r),i.readUInt32LE(),!e.decode(i,n,r))throw Error("Error in LZMA data stream");return n.data}function s(t){var e=n(t);if(void 0===e)throw Error("Error unobfuscating data");return o(e)}var a=r(89),u=r(1).Buffer,h={inStream:function(t){return this.offset=0,this.data=t,this.readByte=function(){return this.data[this.offset++]},this.readUInt32LE=function(){var t=this.data.readUInt32LE(this.offset);return this.offset+=4,t},this},outStream:function(t){return this.offset=0,this.data=new u(t),this.writeByte=function(t){this.data[this.offset++]=t},this}};t.exports.unpack=s},function(t,e,r){var i=r(88),n=r(43);t.exports={precomp:i.precomp,mulPos:i.mulPos,getWindowSize:n.getWindowSize,windowNaf:n.windowNaf,compactNaf:n.compactNaf}},function(t,e,r){var i,n=r(43),o=n.getWindowSize,s=n.windowNaf;i=new Uint8Array([0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]);var a=function(t,e){var r,i,n,o,s,a;if(i=e-2,i<0&&(i=0),n=1<<i,o=t._precomp.pos,s=t._precomp.neg,r=o.length,s[0]||(s[0]=t.negate()),1===n)return{pos:o,neg:s};for(a=t._twice||(t._twice=t.twice());r<n;r++)o[r]=a.add(o[r-1]),s[r]=o[r].negate();return{pos:o,neg:s}},u=function(t,e){var r=o(e.bitLength());r=Math.max(2,Math.min(16,r));var n=a(t,r),u=n.pos,h=n.neg,f=s(r,e),c=t.Inf,l=f.length;if(l>1){var p=f[--l],d=p>>16,y=65535&p,m=Math.abs(d),v=d<0?h:u;if(m<<2<1<<r){var g=i[m],_=r-g,b=m^1<<g-1,w=(1<<r-1)-1,k=(b<<_)+1;c=v[w>>>1].add(v[k>>>1]),y-=_}else c=v[m>>>1];c=c.timesPow2(y)}for(var p,d,m,v,M;l>0;)p=f[--l],d=p>>16,y=65535&p,m=Math.abs(d),v=d<0?h:u,M=v[m>>>1],c=c.twicePlus(M),c=c.timesPow2(y);return c};t.exports={mulPos:u,precomp:a}},function(t,e){var r=r||{};r.OutWindow=function(){this._windowSize=0},r.OutWindow.prototype.create=function(t){this._buffer&&this._windowSize===t||(this._buffer=[]),this._windowSize=t,this._pos=0,this._streamPos=0},r.OutWindow.prototype.flush=function(){var t=this._pos-this._streamPos;if(0!==t){for(;t--;)this._stream.writeByte(this._buffer[this._streamPos++]);this._pos>=this._windowSize&&(this._pos=0),this._streamPos=this._pos}},r.OutWindow.prototype.releaseStream=function(){this.flush(),this._stream=null},r.OutWindow.prototype.setStream=function(t){this.releaseStream(),this._stream=t},r.OutWindow.prototype.init=function(t){t||(this._streamPos=0,this._pos=0)},r.OutWindow.prototype.copyBlock=function(t,e){var r=this._pos-t-1;for(r<0&&(r+=this._windowSize);e--;)r>=this._windowSize&&(r=0),this._buffer[this._pos++]=this._buffer[r++],this._pos>=this._windowSize&&this.flush()},r.OutWindow.prototype.putByte=function(t){this._buffer[this._pos++]=t,this._pos>=this._windowSize&&this.flush()},r.OutWindow.prototype.getByte=function(t){var e=this._pos-t-1;return e<0&&(e+=this._windowSize),this._buffer[e]},r.RangeDecoder=function(){},r.RangeDecoder.prototype.setStream=function(t){this._stream=t},r.RangeDecoder.prototype.releaseStream=function(){this._stream=null},r.RangeDecoder.prototype.init=function(){var t=5;for(this._code=0,this._range=-1;t--;)this._code=this._code<<8|this._stream.readByte()},r.RangeDecoder.prototype.decodeDirectBits=function(t){for(var e,r=0,i=t;i--;)this._range>>>=1,e=this._code-this._range>>>31,this._code-=this._range&e-1,r=r<<1|1-e,0===(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8);return r},r.RangeDecoder.prototype.decodeBit=function(t,e){var r=t[e],i=(this._range>>>11)*r;return(2147483648^this._code)<(2147483648^i)?(this._range=i,t[e]+=2048-r>>>5,0===(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),0):(this._range-=i,this._code-=i,t[e]-=r>>>5,0===(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),1)},r.initBitModels=function(t,e){for(;e--;)t[e]=1024},r.BitTreeDecoder=function(t){this._models=[],this._numBitLevels=t},r.BitTreeDecoder.prototype.init=function(){r.initBitModels(this._models,1<<this._numBitLevels)},r.BitTreeDecoder.prototype.decode=function(t){for(var e=1,r=this._numBitLevels;r--;)e=e<<1|t.decodeBit(this._models,e);return e-(1<<this._numBitLevels)},r.BitTreeDecoder.prototype.reverseDecode=function(t){for(var e,r=1,i=0,n=0;n<this._numBitLevels;++n)e=t.decodeBit(this._models,r),r=r<<1|e,i|=e<<n;return i},r.reverseDecode2=function(t,e,r,i){for(var n,o=1,s=0,a=0;a<i;++a)n=r.decodeBit(t,e+o),o=o<<1|n,s|=n<<a;return s},r.LenDecoder=function(){this._choice=[],this._lowCoder=[],this._midCoder=[],this._highCoder=new r.BitTreeDecoder(8),this._numPosStates=0},r.LenDecoder.prototype.create=function(t){for(;this._numPosStates<t;++this._numPosStates)this._lowCoder[this._numPosStates]=new r.BitTreeDecoder(3),this._midCoder[this._numPosStates]=new r.BitTreeDecoder(3)},r.LenDecoder.prototype.init=function(){var t=this._numPosStates;for(r.initBitModels(this._choice,2);t--;)this._lowCoder[t].init(),this._midCoder[t].init();this._highCoder.init()},r.LenDecoder.prototype.decode=function(t,e){return 0===t.decodeBit(this._choice,0)?this._lowCoder[e].decode(t):0===t.decodeBit(this._choice,1)?8+this._midCoder[e].decode(t):16+this._highCoder.decode(t)},r.Decoder2=function(){this._decoders=[]},r.Decoder2.prototype.init=function(){r.initBitModels(this._decoders,768)},r.Decoder2.prototype.decodeNormal=function(t){var e=1;do e=e<<1|t.decodeBit(this._decoders,e);while(e<256);return 255&e},r.Decoder2.prototype.decodeWithMatchByte=function(t,e){var r,i,n=1;do if(r=e>>7&1,e<<=1,i=t.decodeBit(this._decoders,(1+r<<8)+n),n=n<<1|i,r!==i){for(;n<256;)n=n<<1|t.decodeBit(this._decoders,n);break}while(n<256);return 255&n},r.LiteralDecoder=function(){},r.LiteralDecoder.prototype.create=function(t,e){var i;if(!this._coders||this._numPrevBits!==e||this._numPosBits!==t)for(this._numPosBits=t,this._posMask=(1<<t)-1,this._numPrevBits=e,this._coders=[],i=1<<this._numPrevBits+this._numPosBits;i--;)this._coders[i]=new r.Decoder2},r.LiteralDecoder.prototype.init=function(){for(var t=1<<this._numPrevBits+this._numPosBits;t--;)this._coders[t].init()},r.LiteralDecoder.prototype.getDecoder=function(t,e){return this._coders[((t&this._posMask)<<this._numPrevBits)+((255&e)>>>8-this._numPrevBits)]},r.Decoder=function(){this._outWindow=new r.OutWindow,this._rangeDecoder=new r.RangeDecoder,this._isMatchDecoders=[],this._isRepDecoders=[],this._isRepG0Decoders=[],this._isRepG1Decoders=[],this._isRepG2Decoders=[],this._isRep0LongDecoders=[],this._posSlotDecoder=[],this._posDecoders=[],this._posAlignDecoder=new r.BitTreeDecoder(4),this._lenDecoder=new r.LenDecoder,this._repLenDecoder=new r.LenDecoder,this._literalDecoder=new r.LiteralDecoder,this._dictionarySize=-1,this._dictionarySizeCheck=-1,this._posSlotDecoder[0]=new r.BitTreeDecoder(6),this._posSlotDecoder[1]=new r.BitTreeDecoder(6),this._posSlotDecoder[2]=new r.BitTreeDecoder(6),this._posSlotDecoder[3]=new r.BitTreeDecoder(6)},r.Decoder.prototype.setDictionarySize=function(t){return!(t<0)&&(this._dictionarySize!==t&&(this._dictionarySize=t,this._dictionarySizeCheck=Math.max(this._dictionarySize,1),this._outWindow.create(Math.max(this._dictionarySizeCheck,4096))),!0)},r.Decoder.prototype.setLcLpPb=function(t,e,r){var i=1<<r;return!(t>8||e>4||r>4)&&(this._literalDecoder.create(e,t),this._lenDecoder.create(i),this._repLenDecoder.create(i),this._posStateMask=i-1,!0)},r.Decoder.prototype.init=function(){var t=4;for(this._outWindow.init(!1),r.initBitModels(this._isMatchDecoders,192),r.initBitModels(this._isRep0LongDecoders,192),r.initBitModels(this._isRepDecoders,12),r.initBitModels(this._isRepG0Decoders,12),r.initBitModels(this._isRepG1Decoders,12),r.initBitModels(this._isRepG2Decoders,12),r.initBitModels(this._posDecoders,114),this._literalDecoder.init();t--;)this._posSlotDecoder[t].init();this._lenDecoder.init(),this._repLenDecoder.init(),this._posAlignDecoder.init(),this._rangeDecoder.init()},r.Decoder.prototype.decode=function(t,e,i){
var n,o,s,a,u,h,f=0,c=0,l=0,p=0,d=0,y=0,m=0;for(this._rangeDecoder.setStream(t),this._outWindow.setStream(e),this.init();i<0||y<i;)if(n=y&this._posStateMask,0===this._rangeDecoder.decodeBit(this._isMatchDecoders,(f<<4)+n))o=this._literalDecoder.getDecoder(y++,m),m=f>=7?o.decodeWithMatchByte(this._rangeDecoder,this._outWindow.getByte(c)):o.decodeNormal(this._rangeDecoder),this._outWindow.putByte(m),f=f<4?0:f-(f<10?3:6);else{if(1===this._rangeDecoder.decodeBit(this._isRepDecoders,f))s=0,0===this._rangeDecoder.decodeBit(this._isRepG0Decoders,f)?0===this._rangeDecoder.decodeBit(this._isRep0LongDecoders,(f<<4)+n)&&(f=f<7?9:11,s=1):(0===this._rangeDecoder.decodeBit(this._isRepG1Decoders,f)?a=l:(0===this._rangeDecoder.decodeBit(this._isRepG2Decoders,f)?a=p:(a=d,d=p),p=l),l=c,c=a),0===s&&(s=2+this._repLenDecoder.decode(this._rangeDecoder,n),f=f<7?8:11);else if(d=p,p=l,l=c,s=2+this._lenDecoder.decode(this._rangeDecoder,n),f=f<7?7:10,u=this._posSlotDecoder[s<=5?s-2:3].decode(this._rangeDecoder),u>=4){if(h=(u>>1)-1,c=(2|1&u)<<h,u<14)c+=r.reverseDecode2(this._posDecoders,c-u-1,this._rangeDecoder,h);else if(c+=this._rangeDecoder.decodeDirectBits(h-4)<<4,c+=this._posAlignDecoder.reverseDecode(this._rangeDecoder),c<0){if(c===-1)break;return!1}}else c=u;if(c>=y||c>=this._dictionarySizeCheck)return!1;this._outWindow.copyBlock(c,s),y+=s,m=this._outWindow.getByte(0)}return this._outWindow.flush(),this._outWindow.releaseStream(),this._rangeDecoder.releaseStream(),!0},r.Decoder.prototype.setDecoderProperties=function(t){var e,r,i,n,o;return!(t.size<5)&&(e=t.readByte(),r=e%9,e=~~(e/9),i=e%5,n=~~(e/5),!!this.setLcLpPb(r,i,n)&&(o=t.readByte(),o|=t.readByte()<<8,o|=t.readByte()<<16,o+=16777216*t.readByte(),this.setDictionarySize(o)))},r.decompress=function(t,e,i,n){var o=new r.Decoder;if(!o.setDecoderProperties(t))throw"Incorrect stream properties";if(!o.decode(e,i,n))throw"Error in data stream";return!0},r.decompressFile=function(t,e){var i,n=new r.Decoder;if(!n.setDecoderProperties(t))throw"Incorrect stream properties";if(i=t.readByte(),i|=t.readByte()<<8,i|=t.readByte()<<16,i+=16777216*t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),!n.decode(t,e,i))throw"Error in data stream";return!0},t.exports=r},function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=r,r.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},function(t,e){},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function n(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?d=p.concat(d):m=-1,d.length&&a())}function a(){if(!y){var t=n(s);y=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var f,c,l=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(t){c=i}}();var p,d=[],y=!1,m=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||y||n(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.prependListener=h,l.prependOnceListener=h,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(80),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){return this instanceof Script?void(this.code=t):new Script(t)};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,i=r.eval,n=r.execScript;!i&&n&&(n.call(r,"null"),i=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var o=Object_keys(r),s=i.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||indexOf(o,e)===-1)&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return forEach(Object_keys(e),function(r){t[r]=e[r]}),r},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){}]));
//# sourceMappingURL=main.99c7641a.js.map